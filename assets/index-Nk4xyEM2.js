(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kd={exports:{}},xi={},Yd={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=Symbol.for("react.element"),Im=Symbol.for("react.portal"),Am=Symbol.for("react.fragment"),xm=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),km=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),Pm=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Dm=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),eu=Symbol.iterator;function Um(t){return t===null||typeof t!="object"?null:(t=eu&&t[eu]||t["@@iterator"],typeof t=="function"?t:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qd=Object.assign,Xd={};function oo(t,e,n){this.props=t,this.context=e,this.refs=Xd,this.updater=n||bd}oo.prototype.isReactComponent={};oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zd(){}Zd.prototype=oo.prototype;function Vl(t,e,n){this.props=t,this.context=e,this.refs=Xd,this.updater=n||bd}var Gl=Vl.prototype=new Zd;Gl.constructor=Vl;Qd(Gl,oo.prototype);Gl.isPureReactComponent=!0;var tu=Array.isArray,jd=Object.prototype.hasOwnProperty,Hl={current:null},ef={key:!0,ref:!0,__self:!0,__source:!0};function tf(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)jd.call(e,o)&&!ef.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:or,type:t,key:i,ref:l,props:r,_owner:Hl.current}}function Fm(t,e){return{$$typeof:or,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bl(t){return typeof t=="object"&&t!==null&&t.$$typeof===or}function Vm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nu=/\/+/g;function es(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vm(""+t.key):e.toString(36)}function Vr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case or:case Im:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+es(l,0):o,tu(r)?(n="",t!=null&&(n=t.replace(nu,"$&/")+"/"),Vr(r,e,n,"",function(d){return d})):r!=null&&(Bl(r)&&(r=Fm(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(nu,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",tu(t))for(var u=0;u<t.length;u++){i=t[u];var c=o+es(i,u);l+=Vr(i,e,n,c,r)}else if(c=Um(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=o+es(i,u++),l+=Vr(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function hr(t,e,n){if(t==null)return t;var o=[],r=0;return Vr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function Gm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},Gr={transition:null},Hm={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Gr,ReactCurrentOwner:Hl};function nf(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:hr,forEach:function(t,e,n){hr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hr(t,function(){e++}),e},toArray:function(t){return hr(t,function(e){return e})||[]},only:function(t){if(!Bl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=oo;$.Fragment=Am;$.Profiler=Rm;$.PureComponent=Vl;$.StrictMode=xm;$.Suspense=Mm;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hm;$.act=nf;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Qd({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Hl.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)jd.call(e,c)&&!ef.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:or,type:t.type,key:r,ref:i,props:o,_owner:l}};$.createContext=function(t){return t={$$typeof:Nm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:km,_context:t},t.Consumer=t};$.createElement=tf;$.createFactory=function(t){var e=tf.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Pm,render:t}};$.isValidElement=Bl;$.lazy=function(t){return{$$typeof:Lm,_payload:{_status:-1,_result:t},_init:Gm}};$.memo=function(t,e){return{$$typeof:Dm,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Gr.transition;Gr.transition={};try{t()}finally{Gr.transition=e}};$.unstable_act=nf;$.useCallback=function(t,e){return Me.current.useCallback(t,e)};$.useContext=function(t){return Me.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};$.useEffect=function(t,e){return Me.current.useEffect(t,e)};$.useId=function(){return Me.current.useId()};$.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Me.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};$.useRef=function(t){return Me.current.useRef(t)};$.useState=function(t){return Me.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Me.current.useTransition()};$.version="18.3.1";Yd.exports=$;var G=Yd.exports;const Bm=wm(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=G,qm=Symbol.for("react.element"),$m=Symbol.for("react.fragment"),Jm=Object.prototype.hasOwnProperty,Om=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wm={key:!0,ref:!0,__self:!0,__source:!0};function of(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Jm.call(e,o)&&!Wm.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:qm,type:t,key:i,ref:l,props:r,_owner:Om.current}}xi.Fragment=$m;xi.jsx=of;xi.jsxs=of;Kd.exports=xi;var C=Kd.exports,Ns={},rf={exports:{}},$e={},sf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var z=L.length;L.push(H);e:for(;0<z;){var te=z-1>>>1,U=L[te];if(0<r(U,H))L[te]=H,L[z]=U,z=te;else break e}}function n(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var H=L[0],z=L.pop();if(z!==H){L[0]=z;e:for(var te=0,U=L.length,fe=U>>>1;te<fe;){var ot=2*(te+1)-1,Ae=L[ot],We=ot+1,rt=L[We];if(0>r(Ae,z))We<U&&0>r(rt,Ae)?(L[te]=rt,L[We]=z,te=We):(L[te]=Ae,L[ot]=z,te=ot);else if(We<U&&0>r(rt,z))L[te]=rt,L[We]=z,te=We;else break e}}return H}function r(L,H){var z=L.sortIndex-H.sortIndex;return z!==0?z:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,m=!1,E=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var H=n(d);H!==null;){if(H.callback===null)o(d);else if(H.startTime<=L)o(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function T(L){if(S=!1,v(L),!E)if(n(c)!==null)E=!0,Se(I);else{var H=n(d);H!==null&&Tt(T,H.startTime-L)}}function I(L,H){E=!1,S&&(S=!1,y(k),k=-1),m=!0;var z=p;try{for(v(H),h=n(c);h!==null&&(!(h.expirationTime>H)||L&&!J());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var U=te(h.expirationTime<=H);H=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(c)&&o(c),v(H)}else o(c);h=n(c)}if(h!==null)var fe=!0;else{var ot=n(d);ot!==null&&Tt(T,ot.startTime-H),fe=!1}return fe}finally{h=null,p=z,m=!1}}var A=!1,x=null,k=-1,N=5,M=-1;function J(){return!(t.unstable_now()-M<N)}function Ee(){if(x!==null){var L=t.unstable_now();M=L;var H=!0;try{H=x(!0,L)}finally{H?O():(A=!1,x=null)}}else A=!1}var O;if(typeof g=="function")O=function(){g(Ee)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Oe=ue.port2;ue.port1.onmessage=Ee,O=function(){Oe.postMessage(null)}}else O=function(){_(Ee,0)};function Se(L){x=L,A||(A=!0,O())}function Tt(L,H){k=_(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,Se(I))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var z=p;p=H;try{return L()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=p;p=L;try{return H()}finally{p=z}},t.unstable_scheduleCallback=function(L,H,z){var te=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,L={id:f++,callback:H,priorityLevel:L,startTime:z,expirationTime:U,sortIndex:-1},z>te?(L.sortIndex=z,e(d,L),n(c)===null&&L===n(d)&&(S?(y(k),k=-1):S=!0,Tt(T,z-te))):(L.sortIndex=U,e(c,L),E||m||(E=!0,Se(I))),L},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(L){var H=p;return function(){var z=p;p=H;try{return L.apply(this,arguments)}finally{p=z}}}})(lf);sf.exports=lf;var Km=sf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=G,qe=Km;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var af=new Set,Bo={};function Tn(t,e){Qn(t,e),Qn(t+"Capture",e)}function Qn(t,e){for(Bo[t]=e,t=0;t<e.length;t++)af.add(e[t])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=Object.prototype.hasOwnProperty,bm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ou={},ru={};function Qm(t){return Ps.call(ru,t)?!0:Ps.call(ou,t)?!1:bm.test(t)?ru[t]=!0:(ou[t]=!0,!1)}function Xm(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zm(t,e,n,o){if(e===null||typeof e>"u"||Xm(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var zl=/[\-:]([a-z])/g;function ql(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zl,ql);ve[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zl,ql);ve[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zl,ql);ve[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function $l(t,e,n,o){var r=ve.hasOwnProperty(e)?ve[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zm(e,n,r,o)&&(n=null),o||r===null?Qm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var Mt=Ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mr=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Jl=Symbol.for("react.strict_mode"),Ms=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),cf=Symbol.for("react.context"),Ol=Symbol.for("react.forward_ref"),Ds=Symbol.for("react.suspense"),Ls=Symbol.for("react.suspense_list"),Wl=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),df=Symbol.for("react.offscreen"),iu=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=iu&&t[iu]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,ts;function Ao(t){if(ts===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ts=e&&e[1]||""}return`
`+ts+t}var ns=!1;function os(t,e){if(!t||ns)return"";ns=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){o=d}t.call(e.prototype)}else{try{throw Error()}catch(d){o=d}t()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{ns=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function jm(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=os(t.type,!1),t;case 11:return t=os(t.type.render,!1),t;case 1:return t=os(t.type,!0),t;default:return""}}function Us(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case Rn:return"Portal";case Ms:return"Profiler";case Jl:return"StrictMode";case Ds:return"Suspense";case Ls:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cf:return(t.displayName||"Context")+".Consumer";case uf:return(t._context.displayName||"Context")+".Provider";case Ol:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wl:return e=t.displayName||null,e!==null?e:Us(t.type)||"Memo";case Vt:e=t._payload,t=t._init;try{return Us(t(e))}catch{}}return null}function eg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Us(e);case 8:return e===Jl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ff(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tg(t){var e=ff(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gr(t){t._valueTracker||(t._valueTracker=tg(t))}function pf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=ff(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fs(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function su(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Zt(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hf(t,e){e=e.checked,e!=null&&$l(t,"checked",e,!1)}function Vs(t,e){hf(t,e);var n=Zt(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gs(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gs(t,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gs(t,e,n){(e!=="number"||Xr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xo=Array.isArray;function qn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Zt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Hs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function au(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(xo(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zt(n)}}function mf(t,e){var n=Zt(e.value),o=Zt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function uu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yr,yf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ng=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(t){ng.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Po[e]=Po[t]})});function vf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Po.hasOwnProperty(t)&&Po[t]?(""+e).trim():e+"px"}function Ef(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=vf(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var og=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zs(t,e){if(e){if(og[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function qs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function Kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Js=null,$n=null,Jn=null;function cu(t){if(t=sr(t)){if(typeof Js!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Mi(e),Js(t.stateNode,t.type,e))}}function Sf(t){$n?Jn?Jn.push(t):Jn=[t]:$n=t}function Tf(){if($n){var t=$n,e=Jn;if(Jn=$n=null,cu(t),e)for(t=0;t<e.length;t++)cu(e[t])}}function _f(t,e){return t(e)}function Cf(){}var rs=!1;function wf(t,e,n){if(rs)return t(e,n);rs=!0;try{return _f(t,e,n)}finally{rs=!1,($n!==null||Jn!==null)&&(Cf(),Tf())}}function qo(t,e){var n=t.stateNode;if(n===null)return null;var o=Mi(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Os=!1;if(xt)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Os=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Os=!1}function rg(t,e,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Mo=!1,Zr=null,jr=!1,Ws=null,ig={onError:function(t){Mo=!0,Zr=t}};function sg(t,e,n,o,r,i,l,u,c){Mo=!1,Zr=null,rg.apply(ig,arguments)}function lg(t,e,n,o,r,i,l,u,c){if(sg.apply(this,arguments),Mo){if(Mo){var d=Zr;Mo=!1,Zr=null}else throw Error(R(198));jr||(jr=!0,Ws=d)}}function _n(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function If(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function du(t){if(_n(t)!==t)throw Error(R(188))}function ag(t){var e=t.alternate;if(!e){if(e=_n(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return du(r),t;if(i===o)return du(r),e;i=i.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Af(t){return t=ag(t),t!==null?xf(t):null}function xf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xf(t);if(e!==null)return e;t=t.sibling}return null}var Rf=qe.unstable_scheduleCallback,fu=qe.unstable_cancelCallback,ug=qe.unstable_shouldYield,cg=qe.unstable_requestPaint,le=qe.unstable_now,dg=qe.unstable_getCurrentPriorityLevel,Yl=qe.unstable_ImmediatePriority,kf=qe.unstable_UserBlockingPriority,ei=qe.unstable_NormalPriority,fg=qe.unstable_LowPriority,Nf=qe.unstable_IdlePriority,Ri=null,Et=null;function pg(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ri,t,void 0,(t.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:gg,hg=Math.log,mg=Math.LN2;function gg(t){return t>>>=0,t===0?32:31-(hg(t)/mg|0)|0}var vr=64,Er=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=Ro(u):(i&=l,i!==0&&(o=Ro(i)))}else l=n&~r,l!==0?o=Ro(l):i!==0&&(o=Ro(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-ct(e),r=1<<n,o|=t[n],e&=~r;return o}function yg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-ct(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=yg(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function Ks(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pf(){var t=vr;return vr<<=1,!(vr&4194240)&&(vr=64),t}function is(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ct(e),t[e]=n}function Eg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ct(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function bl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-ct(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var Q=0;function Mf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Df,Ql,Lf,Uf,Ff,Ys=!1,Sr=[],Jt=null,Ot=null,Wt=null,$o=new Map,Jo=new Map,Ht=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(t,e){switch(t){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":$o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(e.pointerId)}}function Eo(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=sr(e),e!==null&&Ql(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Tg(t,e,n,o,r){switch(e){case"focusin":return Jt=Eo(Jt,t,e,n,o,r),!0;case"dragenter":return Ot=Eo(Ot,t,e,n,o,r),!0;case"mouseover":return Wt=Eo(Wt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return $o.set(i,Eo($o.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Jo.set(i,Eo(Jo.get(i)||null,t,e,n,o,r)),!0}return!1}function Vf(t){var e=dn(t.target);if(e!==null){var n=_n(e);if(n!==null){if(e=n.tag,e===13){if(e=If(n),e!==null){t.blockedOn=e,Ff(t.priority,function(){Lf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bs(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);$s=o,n.target.dispatchEvent(o),$s=null}else return e=sr(n),e!==null&&Ql(e),t.blockedOn=n,!1;e.shift()}return!0}function hu(t,e,n){Hr(t)&&n.delete(e)}function _g(){Ys=!1,Jt!==null&&Hr(Jt)&&(Jt=null),Ot!==null&&Hr(Ot)&&(Ot=null),Wt!==null&&Hr(Wt)&&(Wt=null),$o.forEach(hu),Jo.forEach(hu)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,Ys||(Ys=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,_g)))}function Oo(t){function e(r){return So(r,t)}if(0<Sr.length){So(Sr[0],t);for(var n=1;n<Sr.length;n++){var o=Sr[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Jt!==null&&So(Jt,t),Ot!==null&&So(Ot,t),Wt!==null&&So(Wt,t),$o.forEach(e),Jo.forEach(e),n=0;n<Ht.length;n++)o=Ht[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)Vf(n),n.blockedOn===null&&Ht.shift()}var On=Mt.ReactCurrentBatchConfig,ni=!0;function Cg(t,e,n,o){var r=Q,i=On.transition;On.transition=null;try{Q=1,Xl(t,e,n,o)}finally{Q=r,On.transition=i}}function wg(t,e,n,o){var r=Q,i=On.transition;On.transition=null;try{Q=4,Xl(t,e,n,o)}finally{Q=r,On.transition=i}}function Xl(t,e,n,o){if(ni){var r=bs(t,e,n,o);if(r===null)ms(t,e,o,oi,n),pu(t,o);else if(Tg(r,t,e,n,o))o.stopPropagation();else if(pu(t,o),e&4&&-1<Sg.indexOf(t)){for(;r!==null;){var i=sr(r);if(i!==null&&Df(i),i=bs(t,e,n,o),i===null&&ms(t,e,o,oi,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else ms(t,e,o,null,n)}}var oi=null;function bs(t,e,n,o){if(oi=null,t=Kl(o),t=dn(t),t!==null)if(e=_n(t),e===null)t=null;else if(n=e.tag,n===13){if(t=If(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oi=t,null}function Gf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case Yl:return 1;case kf:return 4;case ei:case fg:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var zt=null,Zl=null,Br=null;function Hf(){if(Br)return Br;var t,e=Zl,n=e.length,o,r="value"in zt?zt.value:zt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return Br=r.slice(t,1<o?1-o:void 0)}function zr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tr(){return!0}function mu(){return!1}function Je(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tr:mu,this.isPropagationStopped=mu,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Je(ro),ir=ie({},ro,{view:0,detail:0}),Ig=Je(ir),ss,ls,To,ki=ie({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==To&&(To&&t.type==="mousemove"?(ss=t.screenX-To.screenX,ls=t.screenY-To.screenY):ls=ss=0,To=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:ls}}),gu=Je(ki),Ag=ie({},ki,{dataTransfer:0}),xg=Je(Ag),Rg=ie({},ir,{relatedTarget:0}),as=Je(Rg),kg=ie({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=Je(kg),Pg=ie({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mg=Je(Pg),Dg=ie({},ro,{data:0}),yu=Je(Dg),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fg[t])?!!e[t]:!1}function ea(){return Vg}var Gg=ie({},ir,{key:function(t){if(t.key){var e=Lg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ug[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hg=Je(Gg),Bg=ie({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=Je(Bg),zg=ie({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),qg=Je(zg),$g=ie({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jg=Je($g),Og=ie({},ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wg=Je(Og),Kg=[9,13,27,32],ta=xt&&"CompositionEvent"in window,Do=null;xt&&"documentMode"in document&&(Do=document.documentMode);var Yg=xt&&"TextEvent"in window&&!Do,Bf=xt&&(!ta||Do&&8<Do&&11>=Do),Eu=" ",Su=!1;function zf(t,e){switch(t){case"keyup":return Kg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nn=!1;function bg(t,e){switch(t){case"compositionend":return qf(e);case"keypress":return e.which!==32?null:(Su=!0,Eu);case"textInput":return t=e.data,t===Eu&&Su?null:t;default:return null}}function Qg(t,e){if(Nn)return t==="compositionend"||!ta&&zf(t,e)?(t=Hf(),Br=Zl=zt=null,Nn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bf&&e.locale!=="ko"?null:e.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xg[t.type]:e==="textarea"}function $f(t,e,n,o){Sf(o),e=ri(e,"onChange"),0<e.length&&(n=new jl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var Lo=null,Wo=null;function Zg(t){ep(t,0)}function Ni(t){var e=Dn(t);if(pf(e))return t}function jg(t,e){if(t==="change")return e}var Jf=!1;if(xt){var us;if(xt){var cs="oninput"in document;if(!cs){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),cs=typeof _u.oninput=="function"}us=cs}else us=!1;Jf=us&&(!document.documentMode||9<document.documentMode)}function Cu(){Lo&&(Lo.detachEvent("onpropertychange",Of),Wo=Lo=null)}function Of(t){if(t.propertyName==="value"&&Ni(Wo)){var e=[];$f(e,Wo,t,Kl(t)),wf(Zg,e)}}function ey(t,e,n){t==="focusin"?(Cu(),Lo=e,Wo=n,Lo.attachEvent("onpropertychange",Of)):t==="focusout"&&Cu()}function ty(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ni(Wo)}function ny(t,e){if(t==="click")return Ni(e)}function oy(t,e){if(t==="input"||t==="change")return Ni(e)}function ry(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ht=typeof Object.is=="function"?Object.is:ry;function Ko(t,e){if(ht(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Ps.call(e,r)||!ht(t[r],e[r]))return!1}return!0}function wu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iu(t,e){var n=wu(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wu(n)}}function Wf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kf(){for(var t=window,e=Xr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xr(t.document)}return e}function na(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iy(t){var e=Kf(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wf(n.ownerDocument.documentElement,n)){if(o!==null&&na(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Iu(n,i);var l=Iu(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sy=xt&&"documentMode"in document&&11>=document.documentMode,Pn=null,Qs=null,Uo=null,Xs=!1;function Au(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xs||Pn==null||Pn!==Xr(o)||(o=Pn,"selectionStart"in o&&na(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Ko(Uo,o)||(Uo=o,o=ri(Qs,"onSelect"),0<o.length&&(e=new jl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Pn)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mn={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},ds={},Yf={};xt&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Pi(t){if(ds[t])return ds[t];if(!Mn[t])return t;var e=Mn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yf)return ds[t]=e[n];return t}var bf=Pi("animationend"),Qf=Pi("animationiteration"),Xf=Pi("animationstart"),Zf=Pi("transitionend"),jf=new Map,xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(t,e){jf.set(t,e),Tn(e,[t])}for(var fs=0;fs<xu.length;fs++){var ps=xu[fs],ly=ps.toLowerCase(),ay=ps[0].toUpperCase()+ps.slice(1);en(ly,"on"+ay)}en(bf,"onAnimationEnd");en(Qf,"onAnimationIteration");en(Xf,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Zf,"onTransitionEnd");Qn("onMouseEnter",["mouseout","mouseover"]);Qn("onMouseLeave",["mouseout","mouseover"]);Qn("onPointerEnter",["pointerout","pointerover"]);Qn("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function Ru(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,lg(o,e,void 0,t),t.currentTarget=null}function ep(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;Ru(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;Ru(r,u,d),i=c}}}if(jr)throw t=Ws,jr=!1,Ws=null,t}function j(t,e){var n=e[nl];n===void 0&&(n=e[nl]=new Set);var o=t+"__bubble";n.has(o)||(tp(e,t,2,!1),n.add(o))}function hs(t,e,n){var o=0;e&&(o|=4),tp(n,t,o,e)}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[Cr]){t[Cr]=!0,af.forEach(function(n){n!=="selectionchange"&&(uy.has(n)||hs(n,!1,t),hs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cr]||(e[Cr]=!0,hs("selectionchange",!1,e))}}function tp(t,e,n,o){switch(Gf(e)){case 1:var r=Cg;break;case 4:r=wg;break;default:r=Xl}n=r.bind(null,e,n,t),r=void 0,!Os||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ms(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=dn(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}wf(function(){var d=i,f=Kl(n),h=[];e:{var p=jf.get(t);if(p!==void 0){var m=jl,E=t;switch(t){case"keypress":if(zr(n)===0)break e;case"keydown":case"keyup":m=Hg;break;case"focusin":E="focus",m=as;break;case"focusout":E="blur",m=as;break;case"beforeblur":case"afterblur":m=as;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qg;break;case bf:case Qf:case Xf:m=Ng;break;case Zf:m=Jg;break;case"scroll":m=Ig;break;case"wheel":m=Wg;break;case"copy":case"cut":case"paste":m=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vu}var S=(e&4)!==0,_=!S&&t==="scroll",y=S?p!==null?p+"Capture":null:p;S=[];for(var g=d,v;g!==null;){v=g;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=qo(g,y),T!=null&&S.push(bo(g,T,v)))),_)break;g=g.return}0<S.length&&(p=new m(p,E,null,n,f),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==$s&&(E=n.relatedTarget||n.fromElement)&&(dn(E)||E[Rt]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=d,E=E?dn(E):null,E!==null&&(_=_n(E),E!==_||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=d),m!==E)){if(S=gu,T="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=vu,T="onPointerLeave",y="onPointerEnter",g="pointer"),_=m==null?p:Dn(m),v=E==null?p:Dn(E),p=new S(T,g+"leave",m,n,f),p.target=_,p.relatedTarget=v,T=null,dn(f)===d&&(S=new S(y,g+"enter",E,n,f),S.target=v,S.relatedTarget=_,T=S),_=T,m&&E)t:{for(S=m,y=E,g=0,v=S;v;v=An(v))g++;for(v=0,T=y;T;T=An(T))v++;for(;0<g-v;)S=An(S),g--;for(;0<v-g;)y=An(y),v--;for(;g--;){if(S===y||y!==null&&S===y.alternate)break t;S=An(S),y=An(y)}S=null}else S=null;m!==null&&ku(h,p,m,S,!1),E!==null&&_!==null&&ku(h,_,E,S,!0)}}e:{if(p=d?Dn(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=jg;else if(Tu(p))if(Jf)I=oy;else{I=ty;var A=ey}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=ny);if(I&&(I=I(t,d))){$f(h,I,n,f);break e}A&&A(t,p,d),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Gs(p,"number",p.value)}switch(A=d?Dn(d):window,t){case"focusin":(Tu(A)||A.contentEditable==="true")&&(Pn=A,Qs=d,Uo=null);break;case"focusout":Uo=Qs=Pn=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,Au(h,n,f);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":Au(h,n,f)}var x;if(ta)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Nn?zf(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Bf&&n.locale!=="ko"&&(Nn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Nn&&(x=Hf()):(zt=f,Zl="value"in zt?zt.value:zt.textContent,Nn=!0)),A=ri(d,k),0<A.length&&(k=new yu(k,t,null,n,f),h.push({event:k,listeners:A}),x?k.data=x:(x=qf(n),x!==null&&(k.data=x)))),(x=Yg?bg(t,n):Qg(t,n))&&(d=ri(d,"onBeforeInput"),0<d.length&&(f=new yu("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=x))}ep(h,e)})}function bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ri(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=qo(t,n),i!=null&&o.unshift(bo(t,i,r)),i=qo(t,e),i!=null&&o.push(bo(t,i,r))),t=t.return}return o}function An(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ku(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=qo(n,i),c!=null&&l.unshift(bo(n,c,u))):r||(c=qo(n,i),c!=null&&l.push(bo(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var cy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function Nu(t){return(typeof t=="string"?t:""+t).replace(cy,`
`).replace(dy,"")}function wr(t,e,n){if(e=Nu(e),Nu(t)!==e&&n)throw Error(R(425))}function ii(){}var Zs=null,js=null;function el(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(t){return Pu.resolve(null).then(t).catch(hy)}:tl;function hy(t){setTimeout(function(){throw t})}function gs(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),Oo(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Oo(e)}function Kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var io=Math.random().toString(36).slice(2),vt="__reactFiber$"+io,Qo="__reactProps$"+io,Rt="__reactContainer$"+io,nl="__reactEvents$"+io,my="__reactListeners$"+io,gy="__reactHandles$"+io;function dn(t){var e=t[vt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rt]||n[vt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mu(t);t!==null;){if(n=t[vt])return n;t=Mu(t)}return e}t=n,n=t.parentNode}return null}function sr(t){return t=t[vt]||t[Rt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Mi(t){return t[Qo]||null}var ol=[],Ln=-1;function tn(t){return{current:t}}function ee(t){0>Ln||(t.current=ol[Ln],ol[Ln]=null,Ln--)}function Z(t,e){Ln++,ol[Ln]=t.current,t.current=e}var jt={},Ie=tn(jt),Fe=tn(!1),gn=jt;function Xn(t,e){var n=t.type.contextTypes;if(!n)return jt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ve(t){return t=t.childContextTypes,t!=null}function si(){ee(Fe),ee(Ie)}function Du(t,e,n){if(Ie.current!==jt)throw Error(R(168));Z(Ie,e),Z(Fe,n)}function np(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(R(108,eg(t)||"Unknown",r));return ie({},n,o)}function li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jt,gn=Ie.current,Z(Ie,t),Z(Fe,Fe.current),!0}function Lu(t,e,n){var o=t.stateNode;if(!o)throw Error(R(169));n?(t=np(t,e,gn),o.__reactInternalMemoizedMergedChildContext=t,ee(Fe),ee(Ie),Z(Ie,t)):ee(Fe),Z(Fe,n)}var Ct=null,Di=!1,ys=!1;function op(t){Ct===null?Ct=[t]:Ct.push(t)}function yy(t){Di=!0,op(t)}function nn(){if(!ys&&Ct!==null){ys=!0;var t=0,e=Q;try{var n=Ct;for(Q=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}Ct=null,Di=!1}catch(r){throw Ct!==null&&(Ct=Ct.slice(t+1)),Rf(Yl,nn),r}finally{Q=e,ys=!1}}return null}var Un=[],Fn=0,ai=null,ui=0,be=[],Qe=0,yn=null,wt=1,It="";function an(t,e){Un[Fn++]=ui,Un[Fn++]=ai,ai=t,ui=e}function rp(t,e,n){be[Qe++]=wt,be[Qe++]=It,be[Qe++]=yn,yn=t;var o=wt;t=It;var r=32-ct(o)-1;o&=~(1<<r),n+=1;var i=32-ct(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,wt=1<<32-ct(e)+r|n<<r|o,It=i+t}else wt=1<<i|n<<r|o,It=t}function oa(t){t.return!==null&&(an(t,1),rp(t,1,0))}function ra(t){for(;t===ai;)ai=Un[--Fn],Un[Fn]=null,ui=Un[--Fn],Un[Fn]=null;for(;t===yn;)yn=be[--Qe],be[Qe]=null,It=be[--Qe],be[Qe]=null,wt=be[--Qe],be[Qe]=null}var ze=null,Be=null,ne=!1,ut=null;function ip(t,e){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Be=Kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yn!==null?{id:wt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,Be=null,!0):!1;default:return!1}}function rl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function il(t){if(ne){var e=Be;if(e){var n=e;if(!Uu(t,e)){if(rl(t))throw Error(R(418));e=Kt(n.nextSibling);var o=ze;e&&Uu(t,e)?ip(o,n):(t.flags=t.flags&-4097|2,ne=!1,ze=t)}}else{if(rl(t))throw Error(R(418));t.flags=t.flags&-4097|2,ne=!1,ze=t}}}function Fu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function Ir(t){if(t!==ze)return!1;if(!ne)return Fu(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!el(t.type,t.memoizedProps)),e&&(e=Be)){if(rl(t))throw sp(),Error(R(418));for(;e;)ip(t,e),e=Kt(e.nextSibling)}if(Fu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Be=Kt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Be=null}}else Be=ze?Kt(t.stateNode.nextSibling):null;return!0}function sp(){for(var t=Be;t;)t=Kt(t.nextSibling)}function Zn(){Be=ze=null,ne=!1}function ia(t){ut===null?ut=[t]:ut.push(t)}var vy=Mt.ReactCurrentBatchConfig;function _o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Ar(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vu(t){var e=t._init;return e(t._payload)}function lp(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function o(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(y,g){return y=Xt(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,g,v,T){return g===null||g.tag!==6?(g=ws(v,y.mode,T),g.return=y,g):(g=r(g,v),g.return=y,g)}function c(y,g,v,T){var I=v.type;return I===kn?f(y,g,v.props.children,T,v.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vt&&Vu(I)===g.type)?(T=r(g,v.props),T.ref=_o(y,g,v),T.return=y,T):(T=Yr(v.type,v.key,v.props,null,y.mode,T),T.ref=_o(y,g,v),T.return=y,T)}function d(y,g,v,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Is(v,y.mode,T),g.return=y,g):(g=r(g,v.children||[]),g.return=y,g)}function f(y,g,v,T,I){return g===null||g.tag!==7?(g=mn(v,y.mode,T,I),g.return=y,g):(g=r(g,v),g.return=y,g)}function h(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ws(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case mr:return v=Yr(g.type,g.key,g.props,null,y.mode,v),v.ref=_o(y,null,g),v.return=y,v;case Rn:return g=Is(g,y.mode,v),g.return=y,g;case Vt:var T=g._init;return h(y,T(g._payload),v)}if(xo(g)||yo(g))return g=mn(g,y.mode,v,null),g.return=y,g;Ar(y,g)}return null}function p(y,g,v,T){var I=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:u(y,g,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case mr:return v.key===I?c(y,g,v,T):null;case Rn:return v.key===I?d(y,g,v,T):null;case Vt:return I=v._init,p(y,g,I(v._payload),T)}if(xo(v)||yo(v))return I!==null?null:f(y,g,v,T,null);Ar(y,v)}return null}function m(y,g,v,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,u(g,y,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mr:return y=y.get(T.key===null?v:T.key)||null,c(g,y,T,I);case Rn:return y=y.get(T.key===null?v:T.key)||null,d(g,y,T,I);case Vt:var A=T._init;return m(y,g,v,A(T._payload),I)}if(xo(T)||yo(T))return y=y.get(v)||null,f(g,y,T,I,null);Ar(g,T)}return null}function E(y,g,v,T){for(var I=null,A=null,x=g,k=g=0,N=null;x!==null&&k<v.length;k++){x.index>k?(N=x,x=null):N=x.sibling;var M=p(y,x,v[k],T);if(M===null){x===null&&(x=N);break}t&&x&&M.alternate===null&&e(y,x),g=i(M,g,k),A===null?I=M:A.sibling=M,A=M,x=N}if(k===v.length)return n(y,x),ne&&an(y,k),I;if(x===null){for(;k<v.length;k++)x=h(y,v[k],T),x!==null&&(g=i(x,g,k),A===null?I=x:A.sibling=x,A=x);return ne&&an(y,k),I}for(x=o(y,x);k<v.length;k++)N=m(x,y,k,v[k],T),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?k:N.key),g=i(N,g,k),A===null?I=N:A.sibling=N,A=N);return t&&x.forEach(function(J){return e(y,J)}),ne&&an(y,k),I}function S(y,g,v,T){var I=yo(v);if(typeof I!="function")throw Error(R(150));if(v=I.call(v),v==null)throw Error(R(151));for(var A=I=null,x=g,k=g=0,N=null,M=v.next();x!==null&&!M.done;k++,M=v.next()){x.index>k?(N=x,x=null):N=x.sibling;var J=p(y,x,M.value,T);if(J===null){x===null&&(x=N);break}t&&x&&J.alternate===null&&e(y,x),g=i(J,g,k),A===null?I=J:A.sibling=J,A=J,x=N}if(M.done)return n(y,x),ne&&an(y,k),I;if(x===null){for(;!M.done;k++,M=v.next())M=h(y,M.value,T),M!==null&&(g=i(M,g,k),A===null?I=M:A.sibling=M,A=M);return ne&&an(y,k),I}for(x=o(y,x);!M.done;k++,M=v.next())M=m(x,y,k,M.value,T),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?k:M.key),g=i(M,g,k),A===null?I=M:A.sibling=M,A=M);return t&&x.forEach(function(Ee){return e(y,Ee)}),ne&&an(y,k),I}function _(y,g,v,T){if(typeof v=="object"&&v!==null&&v.type===kn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case mr:e:{for(var I=v.key,A=g;A!==null;){if(A.key===I){if(I=v.type,I===kn){if(A.tag===7){n(y,A.sibling),g=r(A,v.props.children),g.return=y,y=g;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vt&&Vu(I)===A.type){n(y,A.sibling),g=r(A,v.props),g.ref=_o(y,A,v),g.return=y,y=g;break e}n(y,A);break}else e(y,A);A=A.sibling}v.type===kn?(g=mn(v.props.children,y.mode,T,v.key),g.return=y,y=g):(T=Yr(v.type,v.key,v.props,null,y.mode,T),T.ref=_o(y,g,v),T.return=y,y=T)}return l(y);case Rn:e:{for(A=v.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=r(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Is(v,y.mode,T),g.return=y,y=g}return l(y);case Vt:return A=v._init,_(y,g,A(v._payload),T)}if(xo(v))return E(y,g,v,T);if(yo(v))return S(y,g,v,T);Ar(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=r(g,v),g.return=y,y=g):(n(y,g),g=ws(v,y.mode,T),g.return=y,y=g),l(y)):n(y,g)}return _}var jn=lp(!0),ap=lp(!1),ci=tn(null),di=null,Vn=null,sa=null;function la(){sa=Vn=di=null}function aa(t){var e=ci.current;ee(ci),t._currentValue=e}function sl(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Wn(t,e){di=t,sa=Vn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ue=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(sa!==t)if(t={context:t,memoizedValue:e,next:null},Vn===null){if(di===null)throw Error(R(308));Vn=t,di.dependencies={lanes:0,firstContext:t}}else Vn=Vn.next=t;return e}var fn=null;function ua(t){fn===null?fn=[t]:fn.push(t)}function up(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,ua(e)):(n.next=r.next,r.next=n),e.interleaved=n,kt(t,o)}function kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gt=!1;function ca(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function At(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,W&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,kt(t,n)}return r=o.interleaved,r===null?(e.next=e,ua(o)):(e.next=r.next,r.next=e),o.interleaved=e,kt(t,n)}function qr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,bl(t,n)}}function Gu(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fi(t,e,n,o){var r=t.updateQueue;Gt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,m=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,S=u;switch(p=e,m=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(m,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(m,h,p):E,p==null)break e;h=ie({},h,p);break e;case 2:Gt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else m={eventTime:m,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=m,c=h):f=f.next=m,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);En|=l,t.lanes=l,t.memoizedState=h}}function Hu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var lr={},St=tn(lr),Xo=tn(lr),Zo=tn(lr);function pn(t){if(t===lr)throw Error(R(174));return t}function da(t,e){switch(Z(Zo,e),Z(Xo,t),Z(St,lr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bs(e,t)}ee(St),Z(St,e)}function eo(){ee(St),ee(Xo),ee(Zo)}function dp(t){pn(Zo.current);var e=pn(St.current),n=Bs(e,t.type);e!==n&&(Z(Xo,t),Z(St,n))}function fa(t){Xo.current===t&&(ee(St),ee(Xo))}var oe=tn(0);function pi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vs=[];function pa(){for(var t=0;t<vs.length;t++)vs[t]._workInProgressVersionPrimary=null;vs.length=0}var $r=Mt.ReactCurrentDispatcher,Es=Mt.ReactCurrentBatchConfig,vn=0,re=null,ce=null,pe=null,hi=!1,Fo=!1,jo=0,Ey=0;function Te(){throw Error(R(321))}function ha(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ht(t[n],e[n]))return!1;return!0}function ma(t,e,n,o,r,i){if(vn=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$r.current=t===null||t.memoizedState===null?Cy:wy,t=n(o,r),Fo){i=0;do{if(Fo=!1,jo=0,25<=i)throw Error(R(301));i+=1,pe=ce=null,e.updateQueue=null,$r.current=Iy,t=n(o,r)}while(Fo)}if($r.current=mi,e=ce!==null&&ce.next!==null,vn=0,pe=ce=re=null,hi=!1,e)throw Error(R(300));return t}function ga(){var t=jo!==0;return jo=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=t:pe=pe.next=t,pe}function tt(){if(ce===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=pe===null?re.memoizedState:pe.next;if(e!==null)pe=e,ce=t;else{if(t===null)throw Error(R(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},pe===null?re.memoizedState=pe=t:pe=pe.next=t}return pe}function er(t,e){return typeof e=="function"?e(t):e}function Ss(t){var e=tt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var o=ce,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((vn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:t(o,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=h,l=o):c=c.next=h,re.lanes|=f,En|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,ht(o,e.memoizedState)||(Ue=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,re.lanes|=i,En|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ts(t){var e=tt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);ht(i,e.memoizedState)||(Ue=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function fp(){}function pp(t,e){var n=re,o=tt(),r=e(),i=!ht(o.memoizedState,r);if(i&&(o.memoizedState=r,Ue=!0),o=o.queue,ya(gp.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,tr(9,mp.bind(null,n,o,r,e),void 0,null),he===null)throw Error(R(349));vn&30||hp(n,e,r)}return r}function hp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mp(t,e,n,o){e.value=n,e.getSnapshot=o,yp(e)&&vp(t)}function gp(t,e,n){return n(function(){yp(e)&&vp(t)})}function yp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ht(t,n)}catch{return!0}}function vp(t){var e=kt(t,1);e!==null&&dt(e,t,1,-1)}function Bu(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},e.queue=t,t=t.dispatch=_y.bind(null,re,t),[e.memoizedState,t]}function tr(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function Ep(){return tt().memoizedState}function Jr(t,e,n,o){var r=yt();re.flags|=t,r.memoizedState=tr(1|e,n,void 0,o===void 0?null:o)}function Li(t,e,n,o){var r=tt();o=o===void 0?null:o;var i=void 0;if(ce!==null){var l=ce.memoizedState;if(i=l.destroy,o!==null&&ha(o,l.deps)){r.memoizedState=tr(e,n,i,o);return}}re.flags|=t,r.memoizedState=tr(1|e,n,i,o)}function zu(t,e){return Jr(8390656,8,t,e)}function ya(t,e){return Li(2048,8,t,e)}function Sp(t,e){return Li(4,2,t,e)}function Tp(t,e){return Li(4,4,t,e)}function _p(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cp(t,e,n){return n=n!=null?n.concat([t]):null,Li(4,4,_p.bind(null,e,t),n)}function va(){}function wp(t,e){var n=tt();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&ha(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Ip(t,e){var n=tt();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&ha(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Ap(t,e,n){return vn&21?(ht(n,e)||(n=Pf(),re.lanes|=n,En|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ue=!0),t.memoizedState=n)}function Sy(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var o=Es.transition;Es.transition={};try{t(!1),e()}finally{Q=n,Es.transition=o}}function xp(){return tt().memoizedState}function Ty(t,e,n){var o=Qt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Rp(t))kp(e,n);else if(n=up(t,e,n,o),n!==null){var r=Ne();dt(n,t,o,r),Np(n,e,o)}}function _y(t,e,n){var o=Qt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rp(t))kp(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,ht(u,l)){var c=e.interleaved;c===null?(r.next=r,ua(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=up(t,e,r,o),n!==null&&(r=Ne(),dt(n,t,o,r),Np(n,e,o))}}function Rp(t){var e=t.alternate;return t===re||e!==null&&e===re}function kp(t,e){Fo=hi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Np(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,bl(t,n)}}var mi={readContext:et,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Cy={readContext:et,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:zu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jr(4194308,4,_p.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jr(4,2,t,e)},useMemo:function(t,e){var n=yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=yt();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Ty.bind(null,re,t),[o.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:Bu,useDebugValue:va,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=Bu(!1),e=t[0];return t=Sy.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=re,r=yt();if(ne){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),he===null)throw Error(R(349));vn&30||hp(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,zu(gp.bind(null,o,i,t),[t]),o.flags|=2048,tr(9,mp.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=yt(),e=he.identifierPrefix;if(ne){var n=It,o=wt;n=(o&~(1<<32-ct(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=jo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ey++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wy={readContext:et,useCallback:wp,useContext:et,useEffect:ya,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Tp,useMemo:Ip,useReducer:Ss,useRef:Ep,useState:function(){return Ss(er)},useDebugValue:va,useDeferredValue:function(t){var e=tt();return Ap(e,ce.memoizedState,t)},useTransition:function(){var t=Ss(er)[0],e=tt().memoizedState;return[t,e]},useMutableSource:fp,useSyncExternalStore:pp,useId:xp,unstable_isNewReconciler:!1},Iy={readContext:et,useCallback:wp,useContext:et,useEffect:ya,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Tp,useMemo:Ip,useReducer:Ts,useRef:Ep,useState:function(){return Ts(er)},useDebugValue:va,useDeferredValue:function(t){var e=tt();return ce===null?e.memoizedState=t:Ap(e,ce.memoizedState,t)},useTransition:function(){var t=Ts(er)[0],e=tt().memoizedState;return[t,e]},useMutableSource:fp,useSyncExternalStore:pp,useId:xp,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ll(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ui={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Ne(),r=Qt(t),i=At(o,r);i.payload=e,n!=null&&(i.callback=n),e=Yt(t,i,r),e!==null&&(dt(e,t,r,o),qr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Ne(),r=Qt(t),i=At(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yt(t,i,r),e!==null&&(dt(e,t,r,o),qr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),o=Qt(t),r=At(n,o);r.tag=2,e!=null&&(r.callback=e),e=Yt(t,r,o),e!==null&&(dt(e,t,o,n),qr(e,t,o))}};function qu(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!Ko(n,o)||!Ko(r,i):!0}function Pp(t,e,n){var o=!1,r=jt,i=e.contextType;return typeof i=="object"&&i!==null?i=et(i):(r=Ve(e)?gn:Ie.current,o=e.contextTypes,i=(o=o!=null)?Xn(t,r):jt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ui,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function $u(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Ui.enqueueReplaceState(e,e.state,null)}function al(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},ca(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=et(i):(i=Ve(e)?gn:Ie.current,r.context=Xn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ll(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ui.enqueueReplaceState(r,r.state,null),fi(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function to(t,e){try{var n="",o=e;do n+=jm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function _s(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ul(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ay=typeof WeakMap=="function"?WeakMap:Map;function Mp(t,e,n){n=At(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){yi||(yi=!0,El=o),ul(t,e)},n}function Dp(t,e,n){n=At(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){ul(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ul(t,e),typeof o!="function"&&(bt===null?bt=new Set([this]):bt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Ju(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new Ay;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=By.bind(null,t,e,n),e.then(t,t))}function Ou(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wu(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=At(-1,1),e.tag=2,Yt(n,e,1))),n.lanes|=1),t)}var xy=Mt.ReactCurrentOwner,Ue=!1;function ke(t,e,n,o){e.child=t===null?ap(e,null,n,o):jn(e,t.child,n,o)}function Ku(t,e,n,o,r){n=n.render;var i=e.ref;return Wn(e,r),o=ma(t,e,n,o,i,r),n=ga(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Nt(t,e,r)):(ne&&n&&oa(e),e.flags|=1,ke(t,e,o,r),e.child)}function Yu(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!Aa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Lp(t,e,i,o,r)):(t=Yr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ko,n(l,o)&&t.ref===e.ref)return Nt(t,e,r)}return e.flags|=1,t=Xt(i,o),t.ref=e.ref,t.return=e,e.child=t}function Lp(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(Ko(i,o)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Nt(t,e,r)}return cl(t,e,n,o,r)}function Up(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Hn,He),He|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Hn,He),He|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Z(Hn,He),He|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,Z(Hn,He),He|=o;return ke(t,e,r,n),e.child}function Fp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cl(t,e,n,o,r){var i=Ve(n)?gn:Ie.current;return i=Xn(e,i),Wn(e,r),n=ma(t,e,n,o,i,r),o=ga(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Nt(t,e,r)):(ne&&o&&oa(e),e.flags|=1,ke(t,e,n,r),e.child)}function bu(t,e,n,o,r){if(Ve(n)){var i=!0;li(e)}else i=!1;if(Wn(e,r),e.stateNode===null)Or(t,e),Pp(e,n,o),al(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=et(d):(d=Ve(n)?gn:Ie.current,d=Xn(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&$u(e,l,o,d),Gt=!1;var p=e.memoizedState;l.state=p,fi(e,o,l,r),c=e.memoizedState,u!==o||p!==c||Fe.current||Gt?(typeof f=="function"&&(ll(e,n,f,o),c=e.memoizedState),(u=Gt||qu(e,n,u,o,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,cp(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:lt(e.type,u),l.props=d,h=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=et(c):(c=Ve(n)?gn:Ie.current,c=Xn(e,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||p!==c)&&$u(e,l,o,c),Gt=!1,p=e.memoizedState,l.state=p,fi(e,o,l,r);var E=e.memoizedState;u!==h||p!==E||Fe.current||Gt?(typeof m=="function"&&(ll(e,n,m,o),E=e.memoizedState),(d=Gt||qu(e,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return dl(t,e,n,o,i,r)}function dl(t,e,n,o,r,i){Fp(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&Lu(e,n,!1),Nt(t,e,i);o=e.stateNode,xy.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=jn(e,t.child,null,i),e.child=jn(e,null,u,i)):ke(t,e,u,i),e.memoizedState=o.state,r&&Lu(e,n,!0),e.child}function Vp(t){var e=t.stateNode;e.pendingContext?Du(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Du(t,e.context,!1),da(t,e.containerInfo)}function Qu(t,e,n,o,r){return Zn(),ia(r),e.flags|=256,ke(t,e,n,o),e.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function pl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gp(t,e,n){var o=e.pendingProps,r=oe.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Z(oe,r&1),t===null)return il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Gi(l,o,0,null),t=mn(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pl(n),e.memoizedState=fl,t):Ea(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Ry(t,e,l,o,u,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Xt(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Xt(u,i):(i=mn(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?pl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=fl,o}return i=t.child,t=i.sibling,o=Xt(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Ea(t,e){return e=Gi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xr(t,e,n,o){return o!==null&&ia(o),jn(e,t.child,null,n),t=Ea(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ry(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=_s(Error(R(422))),xr(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=Gi({mode:"visible",children:o.children},r,0,null),i=mn(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&jn(e,t.child,null,l),e.child.memoizedState=pl(l),e.memoizedState=fl,i);if(!(e.mode&1))return xr(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(R(419)),o=_s(i,o,void 0),xr(t,e,l,o)}if(u=(l&t.childLanes)!==0,Ue||u){if(o=he,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,kt(t,r),dt(o,t,r,-1))}return Ia(),o=_s(Error(R(421))),xr(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=zy.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Be=Kt(r.nextSibling),ze=e,ne=!0,ut=null,t!==null&&(be[Qe++]=wt,be[Qe++]=It,be[Qe++]=yn,wt=t.id,It=t.overflow,yn=e),e=Ea(e,o.children),e.flags|=4096,e)}function Xu(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),sl(t.return,e,n)}function Cs(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Hp(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(ke(t,e,o.children,n),o=oe.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xu(t,n,e);else if(t.tag===19)Xu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Z(oe,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&pi(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Cs(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&pi(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Cs(e,!0,n,null,i);break;case"together":Cs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Or(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),En|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Xt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ky(t,e,n){switch(e.tag){case 3:Vp(e),Zn();break;case 5:dp(e);break;case 1:Ve(e.type)&&li(e);break;case 4:da(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;Z(ci,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?Gp(t,e,n):(Z(oe,oe.current&1),t=Nt(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Hp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(oe,oe.current),o)break;return null;case 22:case 23:return e.lanes=0,Up(t,e,n)}return Nt(t,e,n)}var Bp,hl,zp,qp;Bp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hl=function(){};zp=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,pn(St.current);var i=null;switch(n){case"input":r=Fs(t,r),o=Fs(t,o),i=[];break;case"select":r=ie({},r,{value:void 0}),o=ie({},o,{value:void 0}),i=[];break;case"textarea":r=Hs(t,r),o=Hs(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=ii)}zs(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&j("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};qp=function(t,e,n,o){n!==o&&(e.flags|=4)};function Co(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Ny(t,e,n){var o=e.pendingProps;switch(ra(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return Ve(e.type)&&si(),_e(e),null;case 3:return o=e.stateNode,eo(),ee(Fe),ee(Ie),pa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Ir(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ut!==null&&(_l(ut),ut=null))),hl(t,e),_e(e),null;case 5:fa(e);var r=pn(Zo.current);if(n=e.type,t!==null&&e.stateNode!=null)zp(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(R(166));return _e(e),null}if(t=pn(St.current),Ir(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[vt]=e,o[Qo]=i,t=(e.mode&1)!==0,n){case"dialog":j("cancel",o),j("close",o);break;case"iframe":case"object":case"embed":j("load",o);break;case"video":case"audio":for(r=0;r<ko.length;r++)j(ko[r],o);break;case"source":j("error",o);break;case"img":case"image":case"link":j("error",o),j("load",o);break;case"details":j("toggle",o);break;case"input":su(o,i),j("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},j("invalid",o);break;case"textarea":au(o,i),j("invalid",o)}zs(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&wr(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&wr(o.textContent,u,t),r=["children",""+u]):Bo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&j("scroll",o)}switch(n){case"input":gr(o),lu(o,i,!0);break;case"textarea":gr(o),uu(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=ii)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[vt]=e,t[Qo]=o,Bp(t,e,!1,!1),e.stateNode=t;e:{switch(l=qs(n,o),n){case"dialog":j("cancel",t),j("close",t),r=o;break;case"iframe":case"object":case"embed":j("load",t),r=o;break;case"video":case"audio":for(r=0;r<ko.length;r++)j(ko[r],t);r=o;break;case"source":j("error",t),r=o;break;case"img":case"image":case"link":j("error",t),j("load",t),r=o;break;case"details":j("toggle",t),r=o;break;case"input":su(t,o),r=Fs(t,o),j("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=ie({},o,{value:void 0}),j("invalid",t);break;case"textarea":au(t,o),r=Hs(t,o),j("invalid",t);break;default:r=o}zs(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Ef(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yf(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zo(t,c):typeof c=="number"&&zo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&j("scroll",t):c!=null&&$l(t,i,c,l))}switch(n){case"input":gr(t),lu(t,o,!1);break;case"textarea":gr(t),uu(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Zt(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?qn(t,!!o.multiple,i,!1):o.defaultValue!=null&&qn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)qp(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(R(166));if(n=pn(Zo.current),pn(St.current),Ir(e)){if(o=e.stateNode,n=e.memoizedProps,o[vt]=e,(i=o.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:wr(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wr(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[vt]=e,e.stateNode=o}return _e(e),null;case 13:if(ee(oe),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Be!==null&&e.mode&1&&!(e.flags&128))sp(),Zn(),e.flags|=98560,i=!1;else if(i=Ir(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[vt]=e}else Zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else ut!==null&&(_l(ut),ut=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?de===0&&(de=3):Ia())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return eo(),hl(t,e),t===null&&Yo(e.stateNode.containerInfo),_e(e),null;case 10:return aa(e.type._context),_e(e),null;case 17:return Ve(e.type)&&si(),_e(e),null;case 19:if(ee(oe),i=e.memoizedState,i===null)return _e(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)Co(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=pi(t),l!==null){for(e.flags|=128,Co(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>no&&(e.flags|=128,o=!0,Co(i,!1),e.lanes=4194304)}else{if(!o)if(t=pi(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return _e(e),null}else 2*le()-i.renderingStartTime>no&&n!==1073741824&&(e.flags|=128,o=!0,Co(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=oe.current,Z(oe,o?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return wa(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?He&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function Py(t,e){switch(ra(e),e.tag){case 1:return Ve(e.type)&&si(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eo(),ee(Fe),ee(Ie),pa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fa(e),null;case 13:if(ee(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(oe),null;case 4:return eo(),null;case 10:return aa(e.type._context),null;case 22:case 23:return wa(),null;case 24:return null;default:return null}}var Rr=!1,Ce=!1,My=typeof WeakSet=="function"?WeakSet:Set,F=null;function Gn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){se(t,e,o)}else n.current=null}function ml(t,e,n){try{n()}catch(o){se(t,e,o)}}var Zu=!1;function Dy(t,e){if(Zs=ni,t=Kf(),na(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(u=l+r),h!==i||o!==0&&h.nodeType!==3||(c=l+o),h.nodeType===3&&(l+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(js={focusedElem:t,selectionRange:n},ni=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,_=E.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:lt(e.type,S),_);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(T){se(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return E=Zu,Zu=!1,E}function Vo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&ml(e,n,i)}r=r.next}while(r!==o)}}function Fi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function gl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $p(t){var e=t.alternate;e!==null&&(t.alternate=null,$p(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vt],delete e[Qo],delete e[nl],delete e[my],delete e[gy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jp(t){return t.tag===5||t.tag===3||t.tag===4}function ju(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yl(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ii));else if(o!==4&&(t=t.child,t!==null))for(yl(t,e,n),t=t.sibling;t!==null;)yl(t,e,n),t=t.sibling}function vl(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(vl(t,e,n),t=t.sibling;t!==null;)vl(t,e,n),t=t.sibling}var ge=null,at=!1;function Ft(t,e,n){for(n=n.child;n!==null;)Op(t,e,n),n=n.sibling}function Op(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ri,n)}catch{}switch(n.tag){case 5:Ce||Gn(n,e);case 6:var o=ge,r=at;ge=null,Ft(t,e,n),ge=o,at=r,ge!==null&&(at?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(at?(t=ge,n=n.stateNode,t.nodeType===8?gs(t.parentNode,n):t.nodeType===1&&gs(t,n),Oo(t)):gs(ge,n.stateNode));break;case 4:o=ge,r=at,ge=n.stateNode.containerInfo,at=!0,Ft(t,e,n),ge=o,at=r;break;case 0:case 11:case 14:case 15:if(!Ce&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ml(n,e,l),r=r.next}while(r!==o)}Ft(t,e,n);break;case 1:if(!Ce&&(Gn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){se(n,e,u)}Ft(t,e,n);break;case 21:Ft(t,e,n);break;case 22:n.mode&1?(Ce=(o=Ce)||n.memoizedState!==null,Ft(t,e,n),Ce=o):Ft(t,e,n);break;default:Ft(t,e,n)}}function ec(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new My),e.forEach(function(o){var r=qy.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function st(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ge=u.stateNode,at=!1;break e;case 3:ge=u.stateNode.containerInfo,at=!0;break e;case 4:ge=u.stateNode.containerInfo,at=!0;break e}u=u.return}if(ge===null)throw Error(R(160));Op(i,l,r),ge=null,at=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){se(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wp(e,t),e=e.sibling}function Wp(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(st(e,t),gt(t),o&4){try{Vo(3,t,t.return),Fi(3,t)}catch(S){se(t,t.return,S)}try{Vo(5,t,t.return)}catch(S){se(t,t.return,S)}}break;case 1:st(e,t),gt(t),o&512&&n!==null&&Gn(n,n.return);break;case 5:if(st(e,t),gt(t),o&512&&n!==null&&Gn(n,n.return),t.flags&32){var r=t.stateNode;try{zo(r,"")}catch(S){se(t,t.return,S)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&hf(r,i),qs(u,l);var d=qs(u,i);for(l=0;l<c.length;l+=2){var f=c[l],h=c[l+1];f==="style"?Ef(r,h):f==="dangerouslySetInnerHTML"?yf(r,h):f==="children"?zo(r,h):$l(r,f,h,d)}switch(u){case"input":Vs(r,i);break;case"textarea":mf(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?qn(r,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?qn(r,!!i.multiple,i.defaultValue,!0):qn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Qo]=i}catch(S){se(t,t.return,S)}}break;case 6:if(st(e,t),gt(t),o&4){if(t.stateNode===null)throw Error(R(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(S){se(t,t.return,S)}}break;case 3:if(st(e,t),gt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(e.containerInfo)}catch(S){se(t,t.return,S)}break;case 4:st(e,t),gt(t);break;case 13:st(e,t),gt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(_a=le())),o&4&&ec(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(d=Ce)||f,st(e,t),Ce=d):st(e,t),gt(t),o&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(F=t,f=t.child;f!==null;){for(h=F=f;F!==null;){switch(p=F,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vo(4,p,p.return);break;case 1:Gn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){se(o,n,S)}}break;case 5:Gn(p,p.return);break;case 22:if(p.memoizedState!==null){nc(h);continue}}m!==null?(m.return=p,F=m):nc(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=vf("display",l))}catch(S){se(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(S){se(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:st(e,t),gt(t),o&4&&ec(t);break;case 21:break;default:st(e,t),gt(t)}}function gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jp(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(zo(r,""),o.flags&=-33);var i=ju(t);vl(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=ju(t);yl(t,u,l);break;default:throw Error(R(161))}}catch(c){se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ly(t,e,n){F=t,Kp(t)}function Kp(t,e,n){for(var o=(t.mode&1)!==0;F!==null;){var r=F,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||Rr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Ce;u=Rr;var d=Ce;if(Rr=l,(Ce=c)&&!d)for(F=r;F!==null;)l=F,c=l.child,l.tag===22&&l.memoizedState!==null?oc(r):c!==null?(c.return=l,F=c):oc(r);for(;i!==null;)F=i,Kp(i),i=i.sibling;F=r,Rr=u,Ce=d}tc(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,F=i):tc(t)}}function tc(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||Fi(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Ce)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:lt(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hu(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hu(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Oo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ce||e.flags&512&&gl(e)}catch(p){se(e,e.return,p)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function nc(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function oc(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fi(4,e)}catch(c){se(e,n,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){se(e,r,c)}}var i=e.return;try{gl(e)}catch(c){se(e,i,c)}break;case 5:var l=e.return;try{gl(e)}catch(c){se(e,l,c)}}}catch(c){se(e,e.return,c)}if(e===t){F=null;break}var u=e.sibling;if(u!==null){u.return=e.return,F=u;break}F=e.return}}var Uy=Math.ceil,gi=Mt.ReactCurrentDispatcher,Sa=Mt.ReactCurrentOwner,Ze=Mt.ReactCurrentBatchConfig,W=0,he=null,ae=null,ye=0,He=0,Hn=tn(0),de=0,nr=null,En=0,Vi=0,Ta=0,Go=null,Le=null,_a=0,no=1/0,_t=null,yi=!1,El=null,bt=null,kr=!1,qt=null,vi=0,Ho=0,Sl=null,Wr=-1,Kr=0;function Ne(){return W&6?le():Wr!==-1?Wr:Wr=le()}function Qt(t){return t.mode&1?W&2&&ye!==0?ye&-ye:vy.transition!==null?(Kr===0&&(Kr=Pf()),Kr):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Gf(t.type)),t):1}function dt(t,e,n,o){if(50<Ho)throw Ho=0,Sl=null,Error(R(185));rr(t,n,o),(!(W&2)||t!==he)&&(t===he&&(!(W&2)&&(Vi|=n),de===4&&Bt(t,ye)),Ge(t,o),n===1&&W===0&&!(e.mode&1)&&(no=le()+500,Di&&nn()))}function Ge(t,e){var n=t.callbackNode;vg(t,e);var o=ti(t,t===he?ye:0);if(o===0)n!==null&&fu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&fu(n),e===1)t.tag===0?yy(rc.bind(null,t)):op(rc.bind(null,t)),py(function(){!(W&6)&&nn()}),n=null;else{switch(Mf(o)){case 1:n=Yl;break;case 4:n=kf;break;case 16:n=ei;break;case 536870912:n=Nf;break;default:n=ei}n=th(n,Yp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yp(t,e){if(Wr=-1,Kr=0,W&6)throw Error(R(327));var n=t.callbackNode;if(Kn()&&t.callbackNode!==n)return null;var o=ti(t,t===he?ye:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Ei(t,o);else{e=o;var r=W;W|=2;var i=Qp();(he!==t||ye!==e)&&(_t=null,no=le()+500,hn(t,e));do try{Gy();break}catch(u){bp(t,u)}while(!0);la(),gi.current=i,W=r,ae!==null?e=0:(he=null,ye=0,e=de)}if(e!==0){if(e===2&&(r=Ks(t),r!==0&&(o=r,e=Tl(t,r))),e===1)throw n=nr,hn(t,0),Bt(t,o),Ge(t,le()),n;if(e===6)Bt(t,o);else{if(r=t.current.alternate,!(o&30)&&!Fy(r)&&(e=Ei(t,o),e===2&&(i=Ks(t),i!==0&&(o=i,e=Tl(t,i))),e===1))throw n=nr,hn(t,0),Bt(t,o),Ge(t,le()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(R(345));case 2:un(t,Le,_t);break;case 3:if(Bt(t,o),(o&130023424)===o&&(e=_a+500-le(),10<e)){if(ti(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ne(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=tl(un.bind(null,t,Le,_t),e);break}un(t,Le,_t);break;case 4:if(Bt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-ct(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Uy(o/1960))-o,10<o){t.timeoutHandle=tl(un.bind(null,t,Le,_t),o);break}un(t,Le,_t);break;case 5:un(t,Le,_t);break;default:throw Error(R(329))}}}return Ge(t,le()),t.callbackNode===n?Yp.bind(null,t):null}function Tl(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(hn(t,e).flags|=256),t=Ei(t,e),t!==2&&(e=Le,Le=n,e!==null&&_l(e)),t}function _l(t){Le===null?Le=t:Le.push.apply(Le,t)}function Fy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!ht(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bt(t,e){for(e&=~Ta,e&=~Vi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ct(e),o=1<<n;t[n]=-1,e&=~o}}function rc(t){if(W&6)throw Error(R(327));Kn();var e=ti(t,0);if(!(e&1))return Ge(t,le()),null;var n=Ei(t,e);if(t.tag!==0&&n===2){var o=Ks(t);o!==0&&(e=o,n=Tl(t,o))}if(n===1)throw n=nr,hn(t,0),Bt(t,e),Ge(t,le()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,un(t,Le,_t),Ge(t,le()),null}function Ca(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(no=le()+500,Di&&nn())}}function Sn(t){qt!==null&&qt.tag===0&&!(W&6)&&Kn();var e=W;W|=1;var n=Ze.transition,o=Q;try{if(Ze.transition=null,Q=1,t)return t()}finally{Q=o,Ze.transition=n,W=e,!(W&6)&&nn()}}function wa(){He=Hn.current,ee(Hn)}function hn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fy(n)),ae!==null)for(n=ae.return;n!==null;){var o=n;switch(ra(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&si();break;case 3:eo(),ee(Fe),ee(Ie),pa();break;case 5:fa(o);break;case 4:eo();break;case 13:ee(oe);break;case 19:ee(oe);break;case 10:aa(o.type._context);break;case 22:case 23:wa()}n=n.return}if(he=t,ae=t=Xt(t.current,null),ye=He=e,de=0,nr=null,Ta=Vi=En=0,Le=Go=null,fn!==null){for(e=0;e<fn.length;e++)if(n=fn[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}fn=null}return t}function bp(t,e){do{var n=ae;try{if(la(),$r.current=mi,hi){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}hi=!1}if(vn=0,pe=ce=re=null,Fo=!1,jo=0,Sa.current=null,n===null||n.return===null){de=1,nr=e,ae=null;break}e:{var i=t,l=n.return,u=n,c=e;if(e=ye,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Ou(l);if(m!==null){m.flags&=-257,Wu(m,l,u,i,e),m.mode&1&&Ju(i,d,e),e=m,c=d;var E=e.updateQueue;if(E===null){var S=new Set;S.add(c),e.updateQueue=S}else E.add(c);break e}else{if(!(e&1)){Ju(i,d,e),Ia();break e}c=Error(R(426))}}else if(ne&&u.mode&1){var _=Ou(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Wu(_,l,u,i,e),ia(to(c,u));break e}}i=c=to(c,u),de!==4&&(de=2),Go===null?Go=[i]:Go.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Mp(i,c,e);Gu(i,y);break e;case 1:u=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bt===null||!bt.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=Dp(i,u,e);Gu(i,T);break e}}i=i.return}while(i!==null)}Zp(n)}catch(I){e=I,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Qp(){var t=gi.current;return gi.current=mi,t===null?mi:t}function Ia(){(de===0||de===3||de===2)&&(de=4),he===null||!(En&268435455)&&!(Vi&268435455)||Bt(he,ye)}function Ei(t,e){var n=W;W|=2;var o=Qp();(he!==t||ye!==e)&&(_t=null,hn(t,e));do try{Vy();break}catch(r){bp(t,r)}while(!0);if(la(),W=n,gi.current=o,ae!==null)throw Error(R(261));return he=null,ye=0,de}function Vy(){for(;ae!==null;)Xp(ae)}function Gy(){for(;ae!==null&&!ug();)Xp(ae)}function Xp(t){var e=eh(t.alternate,t,He);t.memoizedProps=t.pendingProps,e===null?Zp(t):ae=e,Sa.current=null}function Zp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Py(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(n=Ny(n,e,He),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function un(t,e,n){var o=Q,r=Ze.transition;try{Ze.transition=null,Q=1,Hy(t,e,n,o)}finally{Ze.transition=r,Q=o}return null}function Hy(t,e,n,o){do Kn();while(qt!==null);if(W&6)throw Error(R(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Eg(t,i),t===he&&(ae=he=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kr||(kr=!0,th(ei,function(){return Kn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var l=Q;Q=1;var u=W;W|=4,Sa.current=null,Dy(t,n),Wp(n,t),iy(js),ni=!!Zs,js=Zs=null,t.current=n,Ly(n),cg(),W=u,Q=l,Ze.transition=i}else t.current=n;if(kr&&(kr=!1,qt=t,vi=r),i=t.pendingLanes,i===0&&(bt=null),pg(n.stateNode),Ge(t,le()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(yi)throw yi=!1,t=El,El=null,t;return vi&1&&t.tag!==0&&Kn(),i=t.pendingLanes,i&1?t===Sl?Ho++:(Ho=0,Sl=t):Ho=0,nn(),null}function Kn(){if(qt!==null){var t=Mf(vi),e=Ze.transition,n=Q;try{if(Ze.transition=null,Q=16>t?16:t,qt===null)var o=!1;else{if(t=qt,qt=null,vi=0,W&6)throw Error(R(331));var r=W;for(W|=4,F=t.current;F!==null;){var i=F,l=i.child;if(F.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(F=d;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:Vo(8,f,i)}var h=f.child;if(h!==null)h.return=f,F=h;else for(;F!==null;){f=F;var p=f.sibling,m=f.return;if($p(f),f===d){F=null;break}if(p!==null){p.return=m,F=p;break}F=m}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var _=S.sibling;S.sibling=null,S=_}while(S!==null)}}F=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,F=l;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,F=y;break e}F=i.return}}var g=t.current;for(F=g;F!==null;){l=F;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,F=v;else e:for(l=g;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Fi(9,u)}}catch(I){se(u,u.return,I)}if(u===l){F=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,F=T;break e}F=u.return}}if(W=r,nn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ri,t)}catch{}o=!0}return o}finally{Q=n,Ze.transition=e}}return!1}function ic(t,e,n){e=to(n,e),e=Mp(t,e,1),t=Yt(t,e,1),e=Ne(),t!==null&&(rr(t,1,e),Ge(t,e))}function se(t,e,n){if(t.tag===3)ic(t,t,n);else for(;e!==null;){if(e.tag===3){ic(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(bt===null||!bt.has(o))){t=to(n,t),t=Dp(e,t,1),e=Yt(e,t,1),t=Ne(),e!==null&&(rr(e,1,t),Ge(e,t));break}}e=e.return}}function By(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(ye&n)===n&&(de===4||de===3&&(ye&130023424)===ye&&500>le()-_a?hn(t,0):Ta|=n),Ge(t,e)}function jp(t,e){e===0&&(t.mode&1?(e=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):e=1);var n=Ne();t=kt(t,e),t!==null&&(rr(t,e,n),Ge(t,n))}function zy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jp(t,n)}function qy(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(e),jp(t,n)}var eh;eh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)Ue=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ue=!1,ky(t,e,n);Ue=!!(t.flags&131072)}else Ue=!1,ne&&e.flags&1048576&&rp(e,ui,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Or(t,e),t=e.pendingProps;var r=Xn(e,Ie.current);Wn(e,n),r=ma(null,e,o,t,r,n);var i=ga();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ve(o)?(i=!0,li(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ca(e),r.updater=Ui,e.stateNode=r,r._reactInternals=e,al(e,o,t,n),e=dl(null,e,o,!0,i,n)):(e.tag=0,ne&&i&&oa(e),ke(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Or(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Jy(o),t=lt(o,t),r){case 0:e=cl(null,e,o,t,n);break e;case 1:e=bu(null,e,o,t,n);break e;case 11:e=Ku(null,e,o,t,n);break e;case 14:e=Yu(null,e,o,lt(o.type,t),n);break e}throw Error(R(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:lt(o,r),cl(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:lt(o,r),bu(t,e,o,r,n);case 3:e:{if(Vp(e),t===null)throw Error(R(387));o=e.pendingProps,i=e.memoizedState,r=i.element,cp(t,e),fi(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=to(Error(R(423)),e),e=Qu(t,e,o,n,r);break e}else if(o!==r){r=to(Error(R(424)),e),e=Qu(t,e,o,n,r);break e}else for(Be=Kt(e.stateNode.containerInfo.firstChild),ze=e,ne=!0,ut=null,n=ap(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),o===r){e=Nt(t,e,n);break e}ke(t,e,o,n)}e=e.child}return e;case 5:return dp(e),t===null&&il(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,el(o,r)?l=null:i!==null&&el(o,i)&&(e.flags|=32),Fp(t,e),ke(t,e,l,n),e.child;case 6:return t===null&&il(e),null;case 13:return Gp(t,e,n);case 4:return da(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=jn(e,null,o,n):ke(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:lt(o,r),Ku(t,e,o,r,n);case 7:return ke(t,e,e.pendingProps,n),e.child;case 8:return ke(t,e,e.pendingProps.children,n),e.child;case 12:return ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,Z(ci,o._currentValue),o._currentValue=l,i!==null)if(ht(i.value,l)){if(i.children===r.children&&!Fe.current){e=Nt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=At(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sl(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(R(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),sl(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ke(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Wn(e,n),r=et(r),o=o(r),e.flags|=1,ke(t,e,o,n),e.child;case 14:return o=e.type,r=lt(o,e.pendingProps),r=lt(o.type,r),Yu(t,e,o,r,n);case 15:return Lp(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:lt(o,r),Or(t,e),e.tag=1,Ve(o)?(t=!0,li(e)):t=!1,Wn(e,n),Pp(e,o,r),al(e,o,r,n),dl(null,e,o,!0,t,n);case 19:return Hp(t,e,n);case 22:return Up(t,e,n)}throw Error(R(156,e.tag))};function th(t,e){return Rf(t,e)}function $y(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,n,o){return new $y(t,e,n,o)}function Aa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jy(t){if(typeof t=="function")return Aa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ol)return 11;if(t===Wl)return 14}return 2}function Xt(t,e){var n=t.alternate;return n===null?(n=Xe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yr(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")Aa(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case kn:return mn(n.children,r,i,e);case Jl:l=8,r|=8;break;case Ms:return t=Xe(12,n,e,r|2),t.elementType=Ms,t.lanes=i,t;case Ds:return t=Xe(13,n,e,r),t.elementType=Ds,t.lanes=i,t;case Ls:return t=Xe(19,n,e,r),t.elementType=Ls,t.lanes=i,t;case df:return Gi(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uf:l=10;break e;case cf:l=9;break e;case Ol:l=11;break e;case Wl:l=14;break e;case Vt:l=16,o=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Xe(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function mn(t,e,n,o){return t=Xe(7,t,o,e),t.lanes=n,t}function Gi(t,e,n,o){return t=Xe(22,t,o,e),t.elementType=df,t.lanes=n,t.stateNode={isHidden:!1},t}function ws(t,e,n){return t=Xe(6,t,null,e),t.lanes=n,t}function Is(t,e,n){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Oy(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xa(t,e,n,o,r,i,l,u,c){return t=new Oy(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ca(i),t}function Wy(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function nh(t){if(!t)return jt;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ve(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Ve(n))return np(t,n,e)}return e}function oh(t,e,n,o,r,i,l,u,c){return t=xa(n,o,!0,t,r,i,l,u,c),t.context=nh(null),n=t.current,o=Ne(),r=Qt(n),i=At(o,r),i.callback=e??null,Yt(n,i,r),t.current.lanes=r,rr(t,r,o),Ge(t,o),t}function Hi(t,e,n,o){var r=e.current,i=Ne(),l=Qt(r);return n=nh(n),e.context===null?e.context=n:e.pendingContext=n,e=At(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Yt(r,e,l),t!==null&&(dt(t,r,l,i),qr(t,r,l)),l}function Si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ra(t,e){sc(t,e),(t=t.alternate)&&sc(t,e)}function Ky(){return null}var rh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ka(t){this._internalRoot=t}Bi.prototype.render=ka.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Hi(t,e,null,null)};Bi.prototype.unmount=ka.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sn(function(){Hi(null,t,null,null)}),e[Rt]=null}};function Bi(t){this._internalRoot=t}Bi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ht.length&&e!==0&&e<Ht[n].priority;n++);Ht.splice(n,0,t),n===0&&Vf(t)}};function Na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lc(){}function Yy(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=Si(l);i.call(d)}}var l=oh(e,o,t,0,null,!1,!1,"",lc);return t._reactRootContainer=l,t[Rt]=l.current,Yo(t.nodeType===8?t.parentNode:t),Sn(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=Si(c);u.call(d)}}var c=xa(t,0,!1,null,null,!1,!1,"",lc);return t._reactRootContainer=c,t[Rt]=c.current,Yo(t.nodeType===8?t.parentNode:t),Sn(function(){Hi(e,c,n,o)}),c}function qi(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=Si(l);u.call(c)}}Hi(e,l,t,r)}else l=Yy(n,e,t,r,o);return Si(l)}Df=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ro(e.pendingLanes);n!==0&&(bl(e,n|1),Ge(e,le()),!(W&6)&&(no=le()+500,nn()))}break;case 13:Sn(function(){var o=kt(t,1);if(o!==null){var r=Ne();dt(o,t,1,r)}}),Ra(t,1)}};Ql=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var n=Ne();dt(e,t,134217728,n)}Ra(t,134217728)}};Lf=function(t){if(t.tag===13){var e=Qt(t),n=kt(t,e);if(n!==null){var o=Ne();dt(n,t,e,o)}Ra(t,e)}};Uf=function(){return Q};Ff=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};Js=function(t,e,n){switch(e){case"input":if(Vs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=Mi(o);if(!r)throw Error(R(90));pf(o),Vs(o,r)}}}break;case"textarea":mf(t,n);break;case"select":e=n.value,e!=null&&qn(t,!!n.multiple,e,!1)}};_f=Ca;Cf=Sn;var by={usingClientEntryPoint:!1,Events:[sr,Dn,Mi,Sf,Tf,Ca]},wo={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qy={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Af(t),t===null?null:t.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nr.isDisabled&&Nr.supportsFiber)try{Ri=Nr.inject(Qy),Et=Nr}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=by;$e.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(e))throw Error(R(200));return Wy(t,e,null,n)};$e.createRoot=function(t,e){if(!Na(t))throw Error(R(299));var n=!1,o="",r=rh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=xa(t,1,!1,null,null,n,!1,o,r),t[Rt]=e.current,Yo(t.nodeType===8?t.parentNode:t),new ka(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Af(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return Sn(t)};$e.hydrate=function(t,e,n){if(!zi(e))throw Error(R(200));return qi(null,t,e,!0,n)};$e.hydrateRoot=function(t,e,n){if(!Na(t))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=rh;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=oh(e,null,t,1,n??null,r,!1,i,l),t[Rt]=e.current,Yo(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Bi(e)};$e.render=function(t,e,n){if(!zi(e))throw Error(R(200));return qi(null,t,e,!1,n)};$e.unmountComponentAtNode=function(t){if(!zi(t))throw Error(R(40));return t._reactRootContainer?(Sn(function(){qi(null,null,t,!1,function(){t._reactRootContainer=null,t[Rt]=null})}),!0):!1};$e.unstable_batchedUpdates=Ca;$e.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!zi(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return qi(t,e,n,!1,o)};$e.version="18.3.1-next-f1338f8080-20240426";function ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ih)}catch(t){console.error(t)}}ih(),rf.exports=$e;var Xy=rf.exports,ac=Xy;Ns.createRoot=ac.createRoot,Ns.hydrateRoot=ac.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(t,e)=>{const n=G.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},f)=>G.createElement("svg",{ref:f,...Zy,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${jy(t)}`,u].join(" "),...d},[...e.map(([h,p])=>G.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Y("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Y("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Y("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Y("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Y("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Y("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Y("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Y("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Y("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Y("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Y("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Y("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Y("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Y("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Y("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Y("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Y("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var Ye=(t=>(t.NORMAL="normal",t.HIGH_CONTRAST="high-contrast",t.INVERTED="inverted",t.GRAYSCALE="grayscale",t.YELLOW_ON_BLACK="yellow-black",t))(Ye||{});const wv=({zoom:t,setZoom:e,brightness:n,setBrightness:o,contrast:r,setContrast:i,isPaused:l,setIsPaused:u,filter:c,setFilter:d,onAnalyze:f,onProductIdentify:h,onObstacleDetect:p,isAnalyzing:m,text:E})=>{const[S,_]=G.useState(!1),y=T=>{e(parseFloat(T.target.value))},g=()=>{const T=Object.values(Ye),A=(T.indexOf(c)+1)%T.length;d(T[A])},v=()=>{switch(c){case Ye.INVERTED:return C.jsx(cv,{size:24});case Ye.HIGH_CONTRAST:return C.jsx(uc,{size:24});case Ye.GRAYSCALE:return C.jsx(fc,{size:24});default:return C.jsx(ov,{size:24})}};return C.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 backdrop-blur-md p-6 pb-8 rounded-t-3xl border-t border-white/10 flex flex-col gap-4 z-50",children:[S&&C.jsxs("div",{className:"flex flex-col gap-4 mb-2 animate-in slide-in-from-bottom-4 fade-in duration-200",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(fc,{size:18,className:"text-yellow-400"}),C.jsx("input",{type:"range",min:"50",max:"200",value:n,onChange:T=>o(parseInt(T.target.value)),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-400"}),C.jsxs("span",{className:"text-xs font-mono w-8 text-right text-gray-400",children:[n,"%"]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(uc,{size:18,className:"text-gray-300"}),C.jsx("input",{type:"range",min:"50",max:"200",value:r,onChange:T=>i(parseInt(T.target.value)),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-white"}),C.jsxs("span",{className:"text-xs font-mono w-8 text-right text-gray-400",children:[r,"%"]})]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Cv,{size:20,className:"text-gray-400"}),C.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:t,onChange:y,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),C.jsx(_v,{size:20,className:"text-gray-400"}),C.jsxs("span",{className:"text-sm font-mono w-12 text-right",children:[t.toFixed(1),E.zoom]})]}),C.jsxs("div",{className:"flex justify-between items-end px-1 pt-2",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:g,className:"flex flex-col items-center gap-2 text-white active:scale-95 transition-transform","aria-label":E.colors,children:[C.jsx("div",{className:"p-3 rounded-full bg-gray-800 border border-gray-700 hover:bg-gray-700",children:v()}),C.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:E.colors})]}),C.jsxs("button",{onClick:()=>_(!S),className:"flex flex-col items-center gap-2 text-white active:scale-95 transition-transform","aria-label":E.adjust,children:[C.jsx("div",{className:`p-3 rounded-full border border-gray-700 hover:bg-gray-700 ${S?"bg-gray-600 text-white":"bg-gray-800 text-gray-400"}`,children:C.jsx(yv,{size:24})}),C.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:E.adjust})]})]}),C.jsxs("div",{className:"flex gap-3 items-end pb-1",children:[C.jsxs("button",{onClick:h,disabled:m,className:`flex flex-col items-center gap-2 active:scale-95 transition-all ${m?"opacity-50":"opacity-100"}`,"aria-label":E.product,children:[C.jsx("div",{className:`p-3 rounded-full border-2 border-orange-500/50 shadow-lg ${m?"bg-orange-900":"bg-orange-600 hover:bg-orange-500"}`,children:C.jsx(gv,{size:20,className:"text-white"})}),C.jsx("span",{className:"text-[10px] text-orange-400 font-bold uppercase tracking-wider",children:E.product})]}),C.jsxs("button",{onClick:p,disabled:m,className:`flex flex-col items-center gap-2 active:scale-95 transition-all ${m?"opacity-50":"opacity-100"}`,"aria-label":E.obstacle,children:[C.jsx("div",{className:`p-3 rounded-full border-2 border-red-500/50 shadow-lg ${m?"bg-red-900":"bg-red-600 hover:bg-red-500"}`,children:C.jsx(tv,{size:20,className:"text-white"})}),C.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:E.obstacle})]}),C.jsxs("button",{onClick:f,disabled:m,className:`flex flex-col items-center gap-2 active:scale-95 transition-all ${m?"opacity-50":"opacity-100"}`,"aria-label":E.describe,children:[C.jsx("div",{className:`p-4 rounded-full border-4 border-black shadow-lg ${m?"bg-indigo-900 animate-pulse":"bg-indigo-600 hover:bg-indigo-500"}`,children:C.jsx(sh,{size:24,className:"text-white"})}),C.jsx("span",{className:"text-[10px] text-indigo-400 font-bold uppercase tracking-wider",children:E.describe})]})]}),C.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 text-white active:scale-95 transition-transform","aria-label":l?E.resume:E.freeze,children:[C.jsx("div",{className:`p-3 rounded-full border border-gray-700 hover:bg-gray-700 ${l?"bg-red-900/50 text-red-400":"bg-gray-800"}`,children:l?C.jsx(pv,{size:24}):C.jsx(dv,{size:24})}),C.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:l?E.resume:E.freeze})]})]})]})};var Iv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Av,xv;function Rv(){return{geminiUrl:Av,vertexUrl:xv}}function kv(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=Rv();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dt{}function P(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(i+1),n[d])}else for(const d of c)a(d,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Nv(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Cl(t,r,i,0,l)}}function Cl(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Cl(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of n.slice(o))p==="*"?h.push(d):h.push(p);a(l,h,f)}for(const d of u)delete l[d]}}else{const l=t;i in l&&Cl(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pa(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pv(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Mv(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Lv(l)),e}function Dv(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],Uv(l)),e}function Lv(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Fv(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Uv(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Vv(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Fv(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],$v(n)),e}function Vv(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],Jv(n)),e}function Gv(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Hv(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Bv(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],zv(l)),e}function zv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function lh(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],qv(l)),e}function qv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function $v(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Pa(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function Jv(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Pa(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hc||(hc={}));var mc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(mc||(mc={}));var gc;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(gc||(gc={}));var $t;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($t||($t={}));var yc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yc||(yc={}));var vc;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vc||(vc={}));var Ec;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ec||(Ec={}));var Sc;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Sc||(Sc={}));var Tc;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Tc||(Tc={}));var _c;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(_c||(_c={}));var Cc;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Cc||(Cc={}));var wc;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wc||(wc={}));var Ic;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ic||(Ic={}));var Ac;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Ac||(Ac={}));var xc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(xc||(xc={}));var Rc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Rc||(Rc={}));var kc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(kc||(kc={}));var Nc;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Nc||(Nc={}));var Pc;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pc||(Pc={}));var Ti;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ti||(Ti={}));var Mc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mc||(Mc={}));var Dc;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Dc||(Dc={}));var Lc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lc||(Lc={}));var wl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wl||(wl={}));var Uc;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Uc||(Uc={}));var Fc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fc||(Fc={}));var Vc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Vc||(Vc={}));var Gc;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Gc||(Gc={}));var Hc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hc||(Hc={}));var Bc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bc||(Bc={}));var zc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(zc||(zc={}));var qc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(qc||(qc={}));var $c;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($c||($c={}));var Jc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Jc||(Jc={}));var Oc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Oc||(Oc={}));var Wc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wc||(Wc={}));var Kc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kc||(Kc={}));var Yc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yc||(Yc={}));var bc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(bc||(bc={}));var Qc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Qc||(Qc={}));var Xc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Xc||(Xc={}));var Zc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Zc||(Zc={}));var jc;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(jc||(jc={}));var ed;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ed||(ed={}));var td;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(td||(td={}));var nd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(nd||(nd={}));var od;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(od||(od={}));var rd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(rd||(rd={}));var id;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(id||(id={}));var sd;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sd||(sd={}));var ld;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ld||(ld={}));var ad;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ad||(ad={}));var ud;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ud||(ud={}));var cd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cd||(cd={}));var dd;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(dd||(dd={}));var Bn;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Bn||(Bn={}));class Il{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Io{get text(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,E]of Object.entries(p))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(E!==null||E!==void 0)&&h.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,m]of Object.entries(h))p!=="inlineData"&&(m!==null||m!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class fd{}class pd{}class Ov{}class Wv{}class Kv{}class Yv{}class hd{}class md{}class gd{}class bv{}class _i{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new _i;let r;const i=e;return n?r=Dv(i):r=Mv(i),Object.assign(o,r),o}}class yd{}class vd{}class Ed{}class Sd{}class Qv{}class Xv{}class Zv{}class Ma{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Ma,i=Bv(e);return Object.assign(o,i),o}}class jv{}class e0{}class t0{}class Td{}class n0{get text(){var e,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class o0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Da{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Da,i=lh(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ah(t,e){const n=K(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function uh(t){return Array.isArray(t)?t.map(e=>Ci(e)):[Ci(t)]}function Ci(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ch(t){const e=Ci(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dh(t){const e=Ci(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _d(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fh(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_d(e)):[_d(t)]}function Al(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Cd(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function wd(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function we(t){if(t==null)throw new Error("ContentUnion is required");return Al(t)?t:{role:"user",parts:fh(t)}}function La(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=we(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=we(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>we(n)):[we(e)]}function je(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Cd(t)||wd(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[we(t)]}const e=[],n=[],o=Al(t[0]);for(const r of t){const i=Al(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Cd(r)||wd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:fh(n)}),e}function r0(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values($t).includes(n[0].toUpperCase())?n[0].toUpperCase():$t.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values($t).includes(o.toUpperCase())?o.toUpperCase():$t.TYPE_UNSPECIFIED})}}function Yn(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&r0(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values($t).includes(u.toUpperCase())?u.toUpperCase():$t.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Yn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Yn(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Yn(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Ua(t){return Yn(t)}function Fa(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Va(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function so(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yn(e.response));return t}function lo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function i0(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Lt(t,e){if(typeof e!="string")throw new Error("name must be a string");return i0(t,e,"cachedContents")}function ph(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function on(t){return Pa(t)}function s0(t){return t!=null&&typeof t=="object"&&"name"in t}function l0(t){return t!=null&&typeof t=="object"&&"video"in t}function a0(t){return t!=null&&typeof t=="object"&&"uri"in t}function hh(t){var e;let n;if(s0(t)&&(n=t.name),!(a0(t)&&(n=t.uri,n===void 0))&&!(l0(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function mh(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function gh(t){for(const e of["models","tunedModels","publisherModels"])if(u0(t,e))return t[e];return[]}function u0(t,e){return t!==null&&typeof t=="object"&&e in t}function c0(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function d0(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=c0(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function yh(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function f0(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vh(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ao(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Eh(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p0(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>K0(l))),a(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function h0(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function m0(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function br(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&a(e,["state"],Eh(r));const i=s(t,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],p0(vh(d))),e}function xl(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["state"]);r!=null&&a(e,["state"],Eh(r));const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const h=s(t,["inputConfig"]);h!=null&&a(e,["src"],g0(h));const p=s(t,["outputConfig"]);p!=null&&a(e,["dest"],h0(vh(p)));const m=s(t,["completionStats"]);return m!=null&&a(e,["completionStats"],m),e}function g0(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function y0(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>W0(t,l))),a(n,["requests","requests"],i)}return n}function v0(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function E0(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function S0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ao(t,o)),n}function T0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ao(t,o)),n}function _0(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],C0(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(e,["safetyRatings"],p)}const h=s(t,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function C0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Sh(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eE(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function w0(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function I0(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],m0(f0(r))),n}function Id(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],y0(t,yh(t,r)));const i=s(e,["config"]);return i!=null&&w0(i,n),n}function A0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],K(t,o));const r=s(e,["src"]);r!=null&&a(n,["inputConfig"],v0(yh(t,r)));const i=s(e,["config"]);return i!=null&&I0(i,n),n}function x0(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function R0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],U0(t,r));const i=s(e,["config"]);return i!=null&&x0(i,n),n}function k0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ao(t,o)),n}function N0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ao(t,o)),n}function P0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function M0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function D0(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=La(t,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(n,["_self"],L0(r,n)),Nv(n,{"requests[].*":"requests[].request.*"})),n}function L0(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U0(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(n,["requests"],D0(t,r)),n}function F0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function V0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G0(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function H0(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Sh(we(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const _=s(e,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Ua(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let O=v;Array.isArray(O)&&(O=O.map(ue=>tE(ue))),a(n,["safetySettings"],O)}const T=s(e,["tools"]);if(n!==void 0&&T!=null){let O=lo(T);Array.isArray(O)&&(O=O.map(ue=>oE(so(ue)))),a(n,["tools"],O)}const I=s(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],nE(I)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Lt(t,A));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const k=s(e,["mediaResolution"]);k!=null&&a(o,["mediaResolution"],k);const N=s(e,["speechConfig"]);if(N!=null&&a(o,["speechConfig"],Fa(N)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(e,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const J=s(e,["imageConfig"]);J!=null&&a(o,["imageConfig"],O0(J));const Ee=s(e,["enableEnhancedCivicAnswers"]);return Ee!=null&&a(o,["enableEnhancedCivicAnswers"],Ee),o}function B0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_0(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function z0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ao(t,o)),n}function q0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ao(t,o)),n}function $0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function J0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function O0(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function W0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let u=je(r);Array.isArray(u)&&(u=u.map(c=>Sh(c))),a(n,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],H0(t,l,s(n,["request"],{}))),n}function K0(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],B0(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function Y0(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function b0(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),n}function Q0(t){const e={},n=s(t,["config"]);return n!=null&&Y0(n,e),e}function X0(t){const e={},n=s(t,["config"]);return n!=null&&b0(n,e),e}function Z0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>br(l))),a(e,["batchJobs"],i)}return e}function j0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>xl(l))),a(e,["batchJobs"],i)}return e}function eE(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],F0(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],V0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],E0(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function tE(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function nE(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],G0(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function oE(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],$0(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],J0(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Pt||(Pt={}));class Cn{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rE extends Dt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cn(Pt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Id(this.apiClient,e),o=n._url,r=P("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const m=h.request;m.systemInstruction=p,h.request=m}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A0(this.apiClient,e);return u=P("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>xl(f))}else{const d=Id(this.apiClient,e);return u=P("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>br(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=R0(this.apiClient,e);return i=P("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>br(c))}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=q0(this.apiClient,e);return u=P("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>xl(f))}else{const d=z0(this.apiClient,e);return u=P("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>br(f))}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=T0(this.apiClient,e);l=P("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=S0(this.apiClient,e);l=P("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=X0(e);return u=P("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=j0(f),p=new Td;return Object.assign(p,h),p})}else{const d=Q0(e);return u=P("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Z0(f),p=new Td;return Object.assign(p,h),p})}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=N0(this.apiClient,e);return u=P("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>M0(f))}else{const d=k0(this.apiClient,e);return u=P("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>P0(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ad(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>RE(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function sE(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=je(l);Array.isArray(f)&&(f=f.map(h=>Ad(h))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Ad(we(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>NE(h))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],kE(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lE(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let h=je(l);Array.isArray(h)&&(h=h.map(p=>p)),a(e,["contents"],h)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],we(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>PE(p))),a(e,["tools"],h)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function aE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],ah(t,o));const r=s(e,["config"]);return r!=null&&sE(r,n),n}function uE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],ah(t,o));const r=s(e,["config"]);return r!=null&&lE(r,n),n}function cE(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Lt(t,o)),n}function dE(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Lt(t,o)),n}function fE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function pE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function hE(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function mE(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gE(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yE(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function vE(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Lt(t,o)),n}function EE(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Lt(t,o)),n}function SE(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function TE(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function _E(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function CE(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function wE(t){const e={},n=s(t,["config"]);return n!=null&&_E(n,e),e}function IE(t){const e={},n=s(t,["config"]);return n!=null&&CE(n,e),e}function AE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function xE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function RE(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],hE(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],mE(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],iE(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function kE(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],gE(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function NE(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],SE(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],TE(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function PE(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>yE(p))),a(e,["functionDeclarations"],h)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function ME(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function DE(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function LE(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Lt(t,o));const r=s(e,["config"]);return r!=null&&ME(r,n),n}function UE(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Lt(t,o));const r=s(e,["config"]);return r!=null&&DE(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FE extends Dt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cn(Pt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=uE(this.apiClient,e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=aE(this.apiClient,e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=EE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=vE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=dE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=pE(f),p=new Ed;return Object.assign(p,h),p})}else{const d=cE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=fE(f),p=new Ed;return Object.assign(p,h),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=UE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=LE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=IE(e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=xE(f),p=new Sd;return Object.assign(p,h),p})}else{const d=wE(e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=AE(f),p=new Sd;return Object.assign(p,h),p})}}}function wi(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function xd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(t){return this instanceof B?(this.v=t,this):new B(t)}function ft(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(m){return function(E){return Promise.resolve(E).then(m,h)}}function u(m,E){o[m]&&(r[m]=function(S){return new Promise(function(_,y){i.push([m,S,_,y])>1||c(m,S)})},E&&(r[m]=E(r[m])))}function c(m,E){try{d(o[m](E))}catch(S){p(i[0][3],S)}}function d(m){m.value instanceof B?Promise.resolve(m.value.v).then(f,h):p(i[0][2],m)}function f(m){c("next",m)}function h(m){c("throw",m)}function p(m,E){m(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function pt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xd=="function"?xd(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(u,c){l=t[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Th(n)}function Th(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function GE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Rd(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Th(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class HE{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class BE{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),GE(i)}async sendMessage(e){var n;await this.sendPromise;const o=we(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(h))!==null&&u!==void 0?u:[]);const m=d?[d]:[];this.recordHistory(o,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=we(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?Rd(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ft(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var h=!0,p=pt(e),m;m=yield B(p.next()),r=m.done,!r;h=!0){u=m.value,h=!1;const E=u;if(VE(E)){const S=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;S!==void 0&&f.push(S)}yield yield B(E)}}catch(E){i={error:E}}finally{try{!h&&!r&&(l=p.return)&&(yield B(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Rd(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $i extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,$i.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function qE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function $E(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],hh(n)),e}function JE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function OE(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],hh(n)),e}function WE(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function KE(t){const e={},n=s(t,["config"]);return n!=null&&WE(n,e),e}function YE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bE extends Dt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cn(Pt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KE(e);return i=P("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=YE(c),f=new jv;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zE(e);return i=P("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=qE(c),f=new e0;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=OE(e);return i=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$E(e);return i=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=JE(c),f=new t0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qr(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function QE(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fS(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function XE(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ZE(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jE(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function eS(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(t,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const m=s(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const S=s(t,["responseSchema"]);S!=null&&a(e,["responseSchema"],S);const _=s(t,["routingConfig"]);_!=null&&a(e,["routingConfig"],_);const y=s(t,["seed"]);y!=null&&a(e,["seed"],y);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],_h(g));const v=s(t,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);const T=s(t,["temperature"]);T!=null&&a(e,["temperature"],T);const I=s(t,["thinkingConfig"]);I!=null&&a(e,["thinkingConfig"],I);const A=s(t,["topK"]);A!=null&&a(e,["topK"],A);const x=s(t,["topP"]);if(x!=null&&a(e,["topP"],x),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tS(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function nS(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function oS(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],Va(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],QE(we(E)));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let A=lo(S);Array.isArray(A)&&(A=A.map(x=>hS(so(x)))),a(e,["setup","tools"],A)}const _=s(t,["sessionResumption"]);e!==void 0&&_!=null&&a(e,["setup","sessionResumption"],pS(_));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const I=s(t,["proactivity"]);if(e!==void 0&&I!=null&&a(e,["setup","proactivity"],I),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rS(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],eS(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],_h(Va(h)));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],we(E));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let x=lo(S);Array.isArray(x)&&(x=x.map(k=>mS(so(k)))),a(e,["setup","tools"],x)}const _=s(t,["sessionResumption"]);e!==void 0&&_!=null&&a(e,["setup","sessionResumption"],_);const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const I=s(t,["proactivity"]);e!==void 0&&I!=null&&a(e,["setup","proactivity"],I);const A=s(t,["explicitVadSignal"]);return e!==void 0&&A!=null&&a(e,["setup","explicitVadSignal"],A),n}function iS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],K(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],oS(r,n)),n}function sS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],K(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],rS(r,n)),n}function lS(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function aS(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function uS(t){const e={},n=s(t,["media"]);if(n!=null){let d=uh(n);Array.isArray(d)&&(d=d.map(f=>Qr(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Qr(dh(o)));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Qr(ch(i)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function cS(t){const e={},n=s(t,["media"]);if(n!=null){let d=uh(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],dh(o));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],ch(i));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function dS(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],gS(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(t,["voiceActivityDetectionSignal"]);return d!=null&&a(e,["voiceActivityDetectionSignal"],d),e}function fS(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],XE(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],ZE(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Qr(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function pS(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _h(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],n);const o=s(t,["languageCode"]);if(o!=null&&a(e,["languageCode"],o),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function hS(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],tS(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],nS(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function mS(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>jE(p))),a(e,["functionDeclarations"],h)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function gS(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["promptTokensDetails"],m)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["cacheTokensDetails"],m)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["responseTokensDetails"],m)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["toolUsePromptTokensDetails"],m)}const p=s(t,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function vS(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],ES(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(e,["safetyRatings"],p)}const h=s(t,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function ES(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function SS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let i=je(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function TS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function _S(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],CS(o)),e}function CS(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function Ji(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>MT(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function wS(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function IS(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function AS(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],we(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>xh(u))),a(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],yT(i)),n}function xS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=je(r);Array.isArray(l)&&(l=l.map(u=>Ji(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&IS(i),n}function RS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=je(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&AS(i,n),n}function kS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function NS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function PS(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function MS(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function DS(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function LS(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function US(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S);const _=s(t,["addWatermark"]);e!==void 0&&_!=null&&a(e,["parameters","addWatermark"],_);const y=s(t,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const g=s(t,["editMode"]);e!==void 0&&g!=null&&a(e,["parameters","editMode"],g);const v=s(t,["baseSteps"]);return e!==void 0&&v!=null&&a(e,["parameters","editConfig","baseSteps"],v),n}function FS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>GT(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&US(l,n),n}function VS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Oi(i))),a(e,["generatedImages"],r)}return e}function GS(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function HS(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function BS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let u=La(t,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&GS(i,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],K(t,l)),n}function zS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=La(t,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&HS(i,n),n}function qS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function $S(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>_S(l))),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function JS(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function OS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function WS(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KS(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function YS(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function bS(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ji(we(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const _=s(e,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Ua(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let O=v;Array.isArray(O)&&(O=O.map(ue=>HT(ue))),a(n,["safetySettings"],O)}const T=s(e,["tools"]);if(n!==void 0&&T!=null){let O=lo(T);Array.isArray(O)&&(O=O.map(ue=>WT(so(ue)))),a(n,["tools"],O)}const I=s(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],OT(I)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Lt(t,A));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const k=s(e,["mediaResolution"]);k!=null&&a(o,["mediaResolution"],k);const N=s(e,["speechConfig"]);if(N!=null&&a(o,["speechConfig"],Fa(N)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(e,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const J=s(e,["imageConfig"]);J!=null&&a(o,["imageConfig"],_T(J));const Ee=s(e,["enableEnhancedCivicAnswers"]);return Ee!=null&&a(o,["enableEnhancedCivicAnswers"],Ee),o}function QS(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],we(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const _=s(e,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Ua(y));const g=s(e,["responseJsonSchema"]);g!=null&&a(o,["responseJsonSchema"],g);const v=s(e,["routingConfig"]);v!=null&&a(o,["routingConfig"],v);const T=s(e,["modelSelectionConfig"]);T!=null&&a(o,["modelConfig"],T);const I=s(e,["safetySettings"]);if(n!==void 0&&I!=null){let Se=I;Array.isArray(Se)&&(Se=Se.map(Tt=>Tt)),a(n,["safetySettings"],Se)}const A=s(e,["tools"]);if(n!==void 0&&A!=null){let Se=lo(A);Array.isArray(Se)&&(Se=Se.map(Tt=>xh(so(Tt)))),a(n,["tools"],Se)}const x=s(e,["toolConfig"]);n!==void 0&&x!=null&&a(n,["toolConfig"],x);const k=s(e,["labels"]);n!==void 0&&k!=null&&a(n,["labels"],k);const N=s(e,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Lt(t,N));const M=s(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const J=s(e,["mediaResolution"]);J!=null&&a(o,["mediaResolution"],J);const Ee=s(e,["speechConfig"]);Ee!=null&&a(o,["speechConfig"],Ah(Fa(Ee)));const O=s(e,["audioTimestamp"]);O!=null&&a(o,["audioTimestamp"],O);const ue=s(e,["thinkingConfig"]);ue!=null&&a(o,["thinkingConfig"],ue);const Oe=s(e,["imageConfig"]);if(Oe!=null&&a(o,["imageConfig"],CT(Oe)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function kd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=je(r);Array.isArray(l)&&(l=l.map(u=>Ji(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],bS(t,i,n)),n}function Nd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=je(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],QS(t,i,n)),n}function Pd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>vS(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Md(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function XS(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const h=s(t,["outputMimeType"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","mimeType"],h);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=s(t,["imageSize"]);if(e!==void 0&&m!=null&&a(e,["parameters","sampleImageSize"],m),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ZS(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S);const _=s(t,["addWatermark"]);e!==void 0&&_!=null&&a(e,["parameters","addWatermark"],_);const y=s(t,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const g=s(t,["imageSize"]);e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g);const v=s(t,["enhancePrompt"]);return e!==void 0&&v!=null&&a(e,["parameters","enhancePrompt"],v),n}function jS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&XS(i,n),n}function eT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&ZS(i,n),n}function tT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>pT(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],wh(r)),e}function nT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Oi(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Ih(r)),e}function oT(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],Wi(f));const h=s(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>i_(m))),a(e,["instances[0]","referenceImages"],p)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function rT(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["pubsubTopic"]);e!==void 0&&h!=null&&a(e,["parameters","pubsubTopic"],h);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);const E=s(t,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const S=s(t,["lastFrame"]);e!==void 0&&S!=null&&a(e,["instances[0]","lastFrame"],mt(S));const _=s(t,["referenceImages"]);if(e!==void 0&&_!=null){let v=_;Array.isArray(v)&&(v=v.map(T=>s_(T))),a(e,["instances[0]","referenceImages"],v)}const y=s(t,["mask"]);e!==void 0&&y!=null&&a(e,["instances[0]","mask"],r_(y));const g=s(t,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),n}function iT(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],uT(l)),e}function sT(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],cT(l)),e}function lT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],Wi(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Rh(l));const u=s(e,["source"]);u!=null&&dT(u,n);const c=s(e,["config"]);return c!=null&&oT(c,n),n}function aT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],mt(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],kh(l));const u=s(e,["source"]);u!=null&&fT(u,n);const c=s(e,["config"]);return c!=null&&rT(c,n),n}function uT(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>mT(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function cT(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>gT(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function dT(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],Wi(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Rh(i)),n}function fT(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],mt(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],kh(i)),n}function pT(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],wT(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&a(e,["safetyAttributes"],wh(r)),e}function Oi(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Ch(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&a(e,["safetyAttributes"],Ih(r));const i=s(t,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function hT(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],Ch(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function mT(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],n_(n)),e}function gT(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],o_(n)),e}function yT(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(t,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const m=s(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const S=s(t,["responseSchema"]);S!=null&&a(e,["responseSchema"],S);const _=s(t,["routingConfig"]);_!=null&&a(e,["routingConfig"],_);const y=s(t,["seed"]);y!=null&&a(e,["seed"],y);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],Ah(g));const v=s(t,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);const T=s(t,["temperature"]);T!=null&&a(e,["temperature"],T);const I=s(t,["thinkingConfig"]);I!=null&&a(e,["thinkingConfig"],I);const A=s(t,["topK"]);A!=null&&a(e,["topK"],A);const x=s(t,["topP"]);if(x!=null&&a(e,["topP"],x),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function vT(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function ET(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function ST(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function TT(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function _T(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CT(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(t,["outputMimeType"]);r!=null&&a(e,["imageOutputOptions","mimeType"],r);const i=s(t,["outputCompressionQuality"]);return i!=null&&a(e,["imageOutputOptions","compressionQuality"],i),e}function wT(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],on(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ch(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],on(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Wi(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],on(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function mt(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],on(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function IT(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],mh(t,u)),o}function AT(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],mh(t,u)),o}function xT(t,e){const n={},o=s(e,["config"]);return o!=null&&IT(t,o,n),n}function RT(t,e){const n={},o=s(e,["config"]);return o!=null&&AT(t,o,n),n}function kT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=gh(r);Array.isArray(i)&&(i=i.map(l=>Rl(l))),a(e,["models"],i)}return e}function NT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=gh(r);Array.isArray(i)&&(i=i.map(l=>kl(l))),a(e,["models"],i)}return e}function PT(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function Rl(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["version"]);i!=null&&a(e,["version"],i);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],KT(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const h=s(t,["maxTemperature"]);h!=null&&a(e,["maxTemperature"],h);const p=s(t,["topP"]);p!=null&&a(e,["topP"],p);const m=s(t,["topK"]);m!=null&&a(e,["topK"],m);const E=s(t,["thinking"]);return E!=null&&a(e,["thinking"],E),e}function kl(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["versionId"]);i!=null&&a(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>JS(p))),a(e,["endpoints"],h)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],YT(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),a(e,["checkpoints"],h)}return e}function MT(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],OS(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],WS(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],yS(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function DT(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],mt(n)),e}function LT(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const h=s(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h);const p=s(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const m=s(t,["labels"]);return e!==void 0&&m!=null&&a(e,["labels"],m),n}function UT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["source"]);r!=null&&VT(r,n);const i=s(e,["config"]);return i!=null&&LT(i,n),n}function FT(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Oi(r))),a(e,["generatedImages"],o)}return e}function VT(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],mt(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>DT(u))),a(e,["instances[0]","productImages"],l)}return n}function GT(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],mt(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],PT(i));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],wS(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function wh(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Ih(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function HT(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function BT(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],mt(n)),e}function zT(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function qT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["source"]);r!=null&&JT(r,n);const i=s(e,["config"]);return i!=null&&zT(i,n),n}function $T(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>hT(r))),a(e,["generatedMasks"],o)}return e}function JT(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],mt(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],BT(i)),n}function Ah(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],n);const o=s(t,["languageCode"]);if(o!=null&&a(e,["languageCode"],o),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function OT(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],KS(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function WT(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],ST(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],TT(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function xh(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>YS(p))),a(e,["functionDeclarations"],h)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function KT(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function YT(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function bT(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function QT(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function XT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],K(t,o));const r=s(e,["config"]);return r!=null&&bT(r,n),n}function ZT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["config"]);return r!=null&&QT(r,n),n}function jT(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=s(t,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(t,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const m=s(t,["mode"]);return e!==void 0&&m!=null&&a(e,["parameters","mode"],m),n}function e_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],mt(r));const i=s(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&jT(l,n),n}function t_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Oi(i))),a(e,["generatedImages"],r)}return e}function n_(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],on(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function o_(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],on(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function r_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],mt(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function i_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],Wi(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function s_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],mt(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Rh(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],on(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function kh(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],on(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l_(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function a_(t){const e={},n=s(t,["config"]);return n!=null&&l_(n,e),e}function u_(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function c_(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&u_(o,e),e}function d_(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function f_(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),n}function p_(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],m_(l)),e}function h_(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&f_(r,e),e}function m_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function g_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function y_(t){const e={},n=s(t,["config"]);return n!=null&&g_(n,e),e}function v_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function Nh(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function E_(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&Nh(o,e),e}function S_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T_="Content-Type",__="X-Server-Timeout",C_="User-Agent",Nl="x-goog-api-client",w_="1.33.0",I_=`google-genai-sdk/${w_}`,A_="v1beta1",x_="v1beta";class R_{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:A_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:x_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&k_(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Dd(r),new Il(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Dd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ft(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield B(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(f,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),_=S.status,y=S.code,g=`got status: ${_}. ${JSON.stringify(E)}`;if(y>=400&&y<600)throw new $i({message:g,status:y})}}catch(E){if(E.name==="ApiError")throw E}l+=h;let p=-1,m=0;for(;;){p=-1,m=0;for(const _ of c){const y=l.indexOf(_);y!==-1&&(p===-1||y<p)&&(p=y,m=_.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+m);const S=E.trim();if(S.startsWith(u)){const _=S.substring(u.length).trim();try{const y=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield B(new Il(y))}catch(y){throw new Error(`exception parsing stream chunk ${_}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=I_+" "+this.clientOptions.userAgentExtra;return e[C_]=n,e[Nl]=n,e[T_]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(__,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(e),f=P("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};o!=null&&Nh(o,h);const p=await this.fetchUploadUrl(d,u,c,f,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Dd(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new $i({message:r,status:n}):new Error(r)}}function k_(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N_="mcp_used/unknown";let P_=!1;function Ph(t){for(const e of t)if(M_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return P_}function Mh(t){var e;const n=(e=t[Nl])!==null&&e!==void 0?e:"";t[Nl]=(n+` ${N_}`).trimStart()}function M_(t){return t!==null&&typeof t=="object"&&t instanceof Ga}function D_(t){return ft(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield B(n.listTools({cursor:r}));for(const u of l.tools)yield yield B(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class Ga{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ga(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,pt(D_(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const h=r;l.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(h){n={error:h}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),d0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function L_(t,e,n){const o=new o0;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class U_{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=G_(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(v=>{d=v}),h=e.callbacks,p=function(){d({})},m=this.apiClient,E={onopen:p,onmessage:v=>{L_(m,h.onmessage,v)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(v){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(v){}},S=this.webSocketFactory.create(c,V_(l),E);S.connect(),await f;const g={setup:{model:K(this.apiClient,e.model)}};return S.send(JSON.stringify(g)),new F_(S,this.apiClient)}}class F_{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=aS(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=lS(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Bn.PLAY)}pause(){this.sendPlaybackControl(Bn.PAUSE)}stop(){this.sendPlaybackControl(Bn.STOP)}resetContext(){this.sendPlaybackControl(Bn.RESET_CONTEXT)}close(){this.conn.close()}}function V_(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function G_(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function B_(t,e,n){const o=new n0;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=dS(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class z_{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new U_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&Ph(e.config.tools)&&Mh(h);const p=O_(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const N=this.apiClient.getApiKey();let M="BidiGenerateContent",J="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",J="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${M}?${J}=${N}`}let m=()=>{};const E=new Promise(N=>{m=N}),S=e.callbacks,_=function(){var N;(N=S==null?void 0:S.onopen)===null||N===void 0||N.call(S),m({})},y=this.apiClient,g={onopen:_,onmessage:N=>{B_(y,S.onmessage,N)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(N){}},v=this.webSocketFactory.create(f,J_(p),g);v.connect(),await E;let T=K(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const N=this.apiClient.getProject(),M=this.apiClient.getLocation();T=`projects/${N}/locations/${M}/`+T}let I={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ti.AUDIO]}:e.config.responseModalities=[Ti.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],x=[];for(const N of A)if(this.isCallableTool(N)){const M=N;x.push(await M.tool())}else x.push(N);x.length>0&&(e.config.tools=x);const k={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=sS(this.apiClient,k):I=iS(this.apiClient,k),delete I.config,v.send(JSON.stringify(I)),new $_(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const q_={turnComplete:!0};class $_{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=je(n.turns),e.isVertexAI()||(o=o.map(r=>Ji(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(H_)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},q_),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cS(e)}:n={realtimeInput:uS(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function J_(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function O_(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ld=10;function Ud(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function bn(t){return"callTool"in t&&typeof t.callTool=="function"}function W_(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>bn(r)))!==null&&o!==void 0?o:!1}function Fd(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(bn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Vd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K_ extends Dt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!W_(n)||Ud(n.config))return await this.generateContentInternal(c);const d=Fd(n);if(d.length>0){const S=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let f,h;const p=je(c.contents),m=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ld;let E=0;for(;E<m&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,_=[];for(const y of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(bn(y)){const v=await y.callTool(f.functionCalls);_.push(...v)}E++,h={role:"user",parts:_},c.contents=je(c.contents),c.contents.push(S),c.contents.push(h),Vd(c.config)&&(p.push(S),p.push(h))}return Vd(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),Ud(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=Fd(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Cn(Pt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>bn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Ph(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Mh(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(bn(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Ld;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){return ft(this,arguments,function*(){for(var p,m,E,S,_,y;u<i;){l&&(u++,l=!1);const I=yield B(d.processParamsMaybeAddMcpUsage(h)),A=yield B(d.generateContentStreamInternal(I)),x=[],k=[];try{for(var g=!0,v=(m=void 0,pt(A)),T;T=yield B(v.next()),p=T.done,!p;g=!0){S=T.value,g=!1;const N=S;if(yield yield B(N),N.candidates&&(!((_=N.candidates[0])===null||_===void 0)&&_.content)){k.push(N.candidates[0].content);for(const M of(y=N.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(M.functionCall.name)){const J=yield B(f.get(M.functionCall.name).callTool([M.functionCall]));x.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(N){m={error:N}}finally{try{!g&&!p&&(E=v.return)&&(yield B(E.call(v)))}finally{if(m)throw m.error}}if(x.length>0){l=!0;const N=new Io;N.candidates=[{content:{role:"user",parts:x}}],yield yield B(N);const M=[];M.push(...k),M.push({role:"user",parts:x});const J=je(h.contents).concat(M);h.contents=J}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Nd(this.apiClient,e);return u=P("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Md(f),p=new Io;return Object.assign(p,h),p})}else{const d=kd(this.apiClient,e);return u=P("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Pd(f),p=new Io;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Nd(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(h){return ft(this,arguments,function*(){var p,m,E,S;try{for(var _=!0,y=pt(h),g;g=yield B(y.next()),p=g.done,!p;_=!0){S=g.value,_=!1;const v=S,T=Md(yield B(v.json()));T.sdkHttpResponse={headers:v.headers};const I=new Io;Object.assign(I,T),yield yield B(I)}}catch(v){m={error:v}}finally{try{!_&&!p&&(E=y.return)&&(yield B(E.call(y)))}finally{if(m)throw m.error}}})})}else{const d=kd(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return ft(this,arguments,function*(){var p,m,E,S;try{for(var _=!0,y=pt(h),g;g=yield B(y.next()),p=g.done,!p;_=!0){S=g.value,_=!1;const v=S,T=Pd(yield B(v.json()));T.sdkHttpResponse={headers:v.headers};const I=new Io;Object.assign(I,T),yield yield B(I)}}catch(v){m={error:v}}finally{try{!_&&!p&&(E=y.return)&&(yield B(E.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zS(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=$S(f),p=new fd;return Object.assign(p,h),p})}else{const d=BS(this.apiClient,e);return u=P("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=qS(f),p=new fd;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=eT(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=nT(f),p=new pd;return Object.assign(p,h),p})}else{const d=jS(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=tT(f),p=new pd;return Object.assign(p,h),p})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=FS(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=VS(c),f=new Ov;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=e_(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=t_(c),f=new Wv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=UT(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=FT(c),f=new Kv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=qT(this.apiClient,e);return i=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=$T(c),f=new Yv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ET(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>kl(f))}else{const d=vT(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Rl(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=RT(this.apiClient,e);return u=P("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=NT(f),p=new hd;return Object.assign(p,h),p})}else{const d=xT(this.apiClient,e);return u=P("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=kT(f),p=new hd;return Object.assign(p,h),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ZT(this.apiClient,e);return u=P("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>kl(f))}else{const d=XT(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Rl(f))}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=MS(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=LS(f),p=new md;return Object.assign(p,h),p})}else{const d=PS(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=DS(f),p=new md;return Object.assign(p,h),p})}}async countTokens(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=RS(this.apiClient,e);return u=P("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=NS(f),p=new gd;return Object.assign(p,h),p})}else{const d=xS(this.apiClient,e);return u=P("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=kS(f),p=new gd;return Object.assign(p,h),p})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=SS(this.apiClient,e);return i=P("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=TS(c),f=new bv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=aT(this.apiClient,e);return u=P("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const h=sT(f),p=new _i;return Object.assign(p,h),p})}else{const d=lT(this.apiClient,e);return u=P("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const h=iT(f),p=new _i;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y_ extends Dt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Hv(e);return u=P("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=Gv(e);return u=P("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Pv(e);return i=P("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b_(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Q_(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iC(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function X_(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],rC(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function Z_(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],X_(t,o,n)),n}function j_(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function eC(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tC(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function nC(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function oC(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],Va(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],Q_(we(E)));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let A=lo(S);Array.isArray(A)&&(A=A.map(x=>lC(so(x)))),a(e,["setup","tools"],A)}const _=s(t,["sessionResumption"]);e!==void 0&&_!=null&&a(e,["setup","sessionResumption"],sC(_));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const I=s(t,["proactivity"]);if(e!==void 0&&I!=null&&a(e,["setup","proactivity"],I),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rC(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],K(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],oC(r,n)),n}function iC(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],j_(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],eC(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],b_(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function sC(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lC(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],tC(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],nC(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function uC(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=aC(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class cC extends Dt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Z_(this.apiClient,e);i=P("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=uC(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function fC(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&dC(o,e),e}function pC(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function hC(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function mC(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&hC(o,e),e}function gC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yC extends Dt{constructor(e){super(),this.apiClient=e,this.list=async n=>new Cn(Pt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pC(e);return i=P("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fC(e);r=P("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mC(e);return i=P("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=gC(c),f=new Qv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vC extends Dt{constructor(e,n=new yC(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Cn(Pt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a_(e);return i=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d_(e);return i=P("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=c_(e);r=P("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y_(e);return i=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=v_(c),f=new Xv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E_(e);return i=P("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=S_(c),f=new Zv;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h_(e);return i=P("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=p_(c),f=new Ma;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dh=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Dh=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const EC=()=>Dh();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pl(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ml=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nt extends Error{}class Pe extends nt{constructor(e,n,o,r){super(`${Pe.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Ki({message:o,cause:Ml(n)});const i=n;return e===400?new Uh(e,i,o,r):e===401?new Fh(e,i,o,r):e===403?new Vh(e,i,o,r):e===404?new Gh(e,i,o,r):e===409?new Hh(e,i,o,r):e===422?new Bh(e,i,o,r):e===429?new zh(e,i,o,r):e>=500?new qh(e,i,o,r):new Pe(e,i,o,r)}}class Dl extends Pe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ki extends Pe{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Lh extends Ki{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Uh extends Pe{}class Fh extends Pe{}class Vh extends Pe{}class Gh extends Pe{}class Hh extends Pe{}class Bh extends Pe{}class zh extends Pe{}class qh extends Pe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SC=/^[a-z][a-z0-9+.-]*:/i,TC=t=>SC.test(t);let Ll=t=>(Ll=Array.isArray,Ll(t));const _C=Ll;let CC=_C;const Gd=CC;function wC(t){if(!t)return!0;for(const e in t)return!1;return!0}function IC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const AC=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new nt(`${t} must be an integer`);if(e<0)throw new nt(`${t} must be a positive integer`);return e},xC=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RC=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const NC=()=>{var t,e,n,o,r;const i=kC();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":Bd(Deno.build.os),"X-Stainless-Arch":Hd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":Bd((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Hd((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=PC();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PC(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:e,version:`${r}.${i}.${l}`}}}return null}const Hd=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Bd=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Pr;const MC=()=>Pr??(Pr=NC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $h(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function LC(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $h({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Jh(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function UC(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function As(t,e,n){return Oh(),new File(t,e??"unknown_file",n)}function VC(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const GC=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wh=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",HC=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Wh(t),BC=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function zC(t,e,n){if(Oh(),t=await t,HC(t))return t instanceof File?t:As([await t.arrayBuffer()],t.name);if(BC(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),As(await Ul(r),e,n)}const o=await Ul(t);if(e||(e=VC(t)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return As(o,e,n)}async function Ul(t){var e,n,o,r,i;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(Wh(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(GC(t))try{for(var u=!0,c=pt(t),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const f=r;l.push(...await Ul(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${qC(t)}`)}return l}function qC(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kh{constructor(e){this._client=e}}Kh._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yh(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zd=Object.freeze(Object.create(null)),$C=(t=Yh)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],l=n.reduce((f,h,p)=>{var m,E,S;/[?#]/.test(h)&&(r=!0);const _=o[p];let y=(r?encodeURIComponent:t)(""+_);return p!==o.length&&(_==null||typeof _=="object"&&_.toString===((S=Object.getPrototypeOf((E=Object.getPrototypeOf((m=_.hasOwnProperty)!==null&&m!==void 0?m:zd))!==null&&E!==void 0?E:zd))===null||S===void 0?void 0:S.toString))&&(y=_+"",i.push({start:f.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),f+h+(p===o.length?"":y)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,h)=>f.start-h.start),i.length>0){let f=0;const h=i.reduce((p,m)=>{const E=" ".repeat(m.start-f),S="^".repeat(m.length);return f=m.start+m.length,p+E+S},"");throw new nt(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${h}`)}return l},Mr=$C(Yh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bh extends Kh{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,i=wi(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new nt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new nt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Mr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Mr`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Mr`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const i=n??{},{api_version:l=this._client.apiVersion}=i,u=wi(i,["api_version"]);return this._client.get(Mr`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}bh._key=Object.freeze(["interactions"]);class Qh extends bh{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let Dr;function Ha(t){let e;return(Dr??(e=new globalThis.TextEncoder,Dr=e.encode.bind(e)))(t)}let Lr;function qd(t){let e;return(Lr??(e=new globalThis.TextDecoder,Lr=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yi{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ha(e):e;this.buffer=JC([this.buffer,n]);const o=[];let r;for(;(r=OC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(qd(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=qd(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Yi.NEWLINE_CHARS=new Set([`
`,"\r"]);Yi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OC(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function WC(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ii={off:0,error:200,warn:300,info:400,debug:500},$d=(t,e,n)=>{if(t){if(IC(Ii,t))return t;Re(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ii))}`)}};function No(){}function Ur(t,e,n){return!e||Ii[t]>Ii[n]?No:e[t].bind(e)}const KC={error:No,warn:No,info:No,debug:No};let Jd=new WeakMap;function Re(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return KC;const r=Jd.get(n);if(r&&r[0]===o)return r[1];const i={error:Ur("error",n,o),warn:Ur("warn",n,o),info:Ur("info",n,o),debug:Ur("debug",n,o)};return Jd.set(n,[o,i]),i}const cn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zn{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const i=o?Re(o):console;function l(){return ft(this,arguments,function*(){var c,d,f,h;if(r)throw new nt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var m=!0,E=pt(YC(e,n)),S;S=yield B(E.next()),c=S.done,!c;m=!0){h=S.value,m=!1;const _=h;if(!p)if(_.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield B(JSON.parse(_.data))}catch(y){throw i.error("Could not parse message into JSON:",_.data),i.error("From chunk:",_.raw),y}}}catch(_){d={error:_}}finally{try{!m&&!c&&(f=E.return)&&(yield B(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(_){if(Pl(_))return yield B(void 0);throw _}finally{p||n.abort()}})}return new zn(l,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return ft(this,arguments,function*(){var c,d,f,h;const p=new Yi,m=Jh(e);try{for(var E=!0,S=pt(m),_;_=yield B(S.next()),c=_.done,!c;E=!0){h=_.value,E=!1;const y=h;for(const g of p.decode(y))yield yield B(g)}}catch(y){d={error:y}}finally{try{!E&&!c&&(f=S.return)&&(yield B(f.call(S)))}finally{if(d)throw d.error}}for(const y of p.flush())yield yield B(y)})}function l(){return ft(this,arguments,function*(){var c,d,f,h;if(r)throw new nt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var m=!0,E=pt(i()),S;S=yield B(E.next()),c=S.done,!c;m=!0){h=S.value,m=!1;const _=h;p||_&&(yield yield B(JSON.parse(_)))}}catch(_){d={error:_}}finally{try{!m&&!c&&(f=E.return)&&(yield B(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(_){if(Pl(_))return yield B(void 0);throw _}finally{p||n.abort()}})}return new zn(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();e.push(l),n.push(l)}return i.shift()}});return[new zn(()=>r(e),this.controller,this.client),new zn(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $h({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const l=Ha(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function YC(t,e){return ft(this,arguments,function*(){var o,r,i,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new nt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new nt("Attempted to iterate over a response with no body");const u=new QC,c=new Yi,d=Jh(t.body);try{for(var f=!0,h=pt(bC(d)),p;p=yield B(h.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const m=l;for(const E of c.decode(m)){const S=u.decode(E);S&&(yield yield B(S))}}}catch(m){r={error:m}}finally{try{!f&&!o&&(i=h.return)&&(yield B(i.call(h)))}finally{if(r)throw r.error}}for(const m of c.flush()){const E=u.decode(m);E&&(yield yield B(E))}})}function bC(t){return ft(this,arguments,function*(){var n,o,r,i;let l=new Uint8Array;try{for(var u=!0,c=pt(t),d;d=yield B(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const h=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ha(f):f;let p=new Uint8Array(l.length+h.length);p.set(l),p.set(h,l.length),l=p;let m;for(;(m=WC(l))!==-1;)yield yield B(l.slice(0,m)),l=l.slice(m)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield B(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield B(l))})}class QC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=XC(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function XC(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZC(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,l=await(async()=>{var u;if(e.options.stream)return Re(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):zn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Re(t).debug(`[${o}] response parsed`,cn({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba extends Promise{constructor(e,n,o=ZC){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Ba(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xh=Symbol("brand.privateNullableHeaders");function*jC(t){if(!t)return;if(Xh in t){const{values:o,nulls:r}=t;yield*o.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Gd(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=Gd(o[1])?o[1]:[o[1]];let l=!1;for(const u of i)u!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const xs=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[i,l]of jC(o)){const u=i.toLowerCase();r.has(u)||(e.delete(i),r.add(u)),l===null?(e.delete(i),n.add(u)):(e.append(i,l),n.delete(u))}}return{[Xh]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rs=t=>{var e,n,o,r,i,l;if(typeof globalThis.process<"u")return(o=(n=(e=Iv)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zh;class bi{constructor(e){var n,o,r,i,l,u,c,d=e===void 0?{}:e,{baseURL:f=Rs("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Rs("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=d,m=wi(d,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:h,apiVersion:p},m),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(o=E.timeout)!==null&&o!==void 0?o:bi.DEFAULT_TIMEOUT,this.logger=(r=E.logger)!==null&&r!==void 0?r:console;const S="warn";this.logLevel=S,this.logLevel=(l=(i=$d(E.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:$d(Rs("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=E.fetchOptions,this.maxRetries=(u=E.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=E.fetch)!==null&&c!==void 0?c:DC(),this.encoder=FC,this._options=E,this.apiKey=h,this.apiVersion=p}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return xs([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new nt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${xn}`}defaultIdempotencyKey(){return`stainless-node-retry-${EC()}`}makeStatusError(e,n,o,r){return Pe.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=TC(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return wC(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new Ba(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,i,l;const u=await e,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:h}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(Re(this).debug(`[${p}] sending request`,cn({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new Dl;const S=new AbortController,_=await this.fetchWithTimeout(f,d,h,S).catch(Ml),y=Date.now();if(_ instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Dl;const T=Pl(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return Re(this).info(`[${p}] connection ${T?"timed out":"failed"} - ${v}`),Re(this).debug(`[${p}] connection ${T?"timed out":"failed"} (${v})`,cn({retryOfRequestLogID:o,url:f,durationMs:y-E,message:_.message})),this.retryRequest(u,n,o??p);throw Re(this).info(`[${p}] connection ${T?"timed out":"failed"} - error; no more retries left`),Re(this).debug(`[${p}] connection ${T?"timed out":"failed"} (error; no more retries left)`,cn({retryOfRequestLogID:o,url:f,durationMs:y-E,message:_.message})),T?new Lh:new Ki({cause:_})}const g=`[${p}${m}] ${d.method} ${f} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${y-E}ms`;if(!_.ok){const v=await this.shouldRetry(_);if(n&&v){const N=`retrying, ${n} attempts remaining`;return await UC(_.body),Re(this).info(`${g} - ${N}`),Re(this).debug(`[${p}] response error (${N})`,cn({retryOfRequestLogID:o,url:_.url,status:_.status,headers:_.headers,durationMs:y-E})),this.retryRequest(u,n,o??p,_.headers)}const T=v?"error; no more retries left":"error; not retryable";Re(this).info(`${g} - ${T}`);const I=await _.text().catch(N=>Ml(N).message),A=xC(I),x=A?void 0:I;throw Re(this).debug(`[${p}] response error (${T})`,cn({retryOfRequestLogID:o,url:_.url,status:_.status,headers:_.headers,message:x,durationMs:Date.now()-E})),this.makeStatusError(_.status,A,x,_.headers)}return Re(this).info(g),Re(this).debug(`[${p}] response start`,cn({retryOfRequestLogID:o,url:_.url,status:_.status,headers:_.headers,durationMs:y-E})),{response:_,options:u,controller:S,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,n,o,r){const i=n||{},{signal:l,method:u}=i,c=wi(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var i;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await RC(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,l=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,i;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,h=this.buildURL(c,d,f);"timeout"in l&&AC("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:m}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:h,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const l=xs([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),MC()),await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=xs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:LC(e)}:this.encoder({body:e,headers:o})}}bi.DEFAULT_TIMEOUT=6e4;class me extends bi{constructor(){super(...arguments),this.interactions=new Qh(this)}}Zh=me;me.GeminiNextGenAPIClient=Zh;me.GeminiNextGenAPIClientError=nt;me.APIError=Pe;me.APIConnectionError=Ki;me.APIConnectionTimeoutError=Lh;me.APIUserAbortError=Dl;me.NotFoundError=Gh;me.ConflictError=Hh;me.RateLimitError=zh;me.BadRequestError=Uh;me.AuthenticationError=Fh;me.InternalServerError=qh;me.PermissionDeniedError=Vh;me.UnprocessableEntityError=Bh;me.toFile=zC;me.Interactions=Qh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ew(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function tw(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function nw(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function ow(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function rw(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function iw(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec"],Od(m))}else if(r==="PREFERENCE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec"],Od(m))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(u==="PREFERENCE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(d==="PREFERENCE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=s(t,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(t,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function sw(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&yw(i);const l=s(t,["config"]);return l!=null&&rw(l,n),n}function lw(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&vw(i,n,e);const l=s(t,["config"]);return l!=null&&iw(l,n,e),n}function aw(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function uw(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function cw(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function dw(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function fw(t,e){const n={},o=s(t,["config"]);return o!=null&&cw(o,n),n}function pw(t,e){const n={},o=s(t,["config"]);return o!=null&&dw(o,n),n}function hw(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>jh(u))),a(n,["tuningJobs"],l)}return n}function mw(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Fl(u))),a(n,["tuningJobs"],l)}return n}function gw(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const r=s(t,["name"]);return r!=null&&a(n,["endpoint"],r),n}function yw(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function vw(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function jh(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],ph(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const h=s(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const p=s(t,["_self"]);return p!=null&&a(n,["tunedModel"],gw(p)),n}function Fl(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],ph(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const h=s(t,["description"]);h!=null&&a(n,["description"],h);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=s(t,["tunedModel"]);m!=null&&a(n,["tunedModel"],m);const E=s(t,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const S=s(t,["supervisedTuningSpec"]);S!=null&&a(n,["supervisedTuningSpec"],S);const _=s(t,["preferenceOptimizationSpec"]);_!=null&&a(n,["preferenceOptimizationSpec"],_);const y=s(t,["tuningDataStats"]);y!=null&&a(n,["tuningDataStats"],y);const g=s(t,["encryptionSpec"]);g!=null&&a(n,["encryptionSpec"],g);const v=s(t,["partnerModelTuningSpec"]);v!=null&&a(n,["partnerModelTuningSpec"],v);const T=s(t,["customBaseModel"]);T!=null&&a(n,["customBaseModel"],T);const I=s(t,["experiment"]);I!=null&&a(n,["experiment"],I);const A=s(t,["labels"]);A!=null&&a(n,["labels"],A);const x=s(t,["outputUri"]);x!=null&&a(n,["outputUri"],x);const k=s(t,["pipelineJob"]);k!=null&&a(n,["pipelineJob"],k);const N=s(t,["serviceAccount"]);N!=null&&a(n,["serviceAccount"],N);const M=s(t,["tunedModelDisplayName"]);M!=null&&a(n,["tunedModelDisplayName"],M);const J=s(t,["veoTuningSpec"]);return J!=null&&a(n,["veoTuningSpec"],J),n}function Ew(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function Od(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sw extends Dt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cn(Pt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:wl.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=uw(e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Fl(f))}else{const d=aw(e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>jh(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=pw(e);return u=P("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=mw(f),p=new yd;return Object.assign(p,h),p})}else{const d=fw(e);return u=P("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=hw(f),p=new yd;return Object.assign(p,h),p})}}async cancel(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=tw(e);return u=P("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=ow(f),p=new vd;return Object.assign(p,h),p})}else{const d=ew(e);return u=P("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=nw(f),p=new vd;return Object.assign(p,h),p})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=lw(e,e);return i=P("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Fl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sw(e);return i=P("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Ew(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tw{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _w=1024*1024*8,Cw=3,ww=1e3,Iw=2,Ai="x-goog-upload-status";async function Aw(t,e,n){var o;const r=await em(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ai])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function xw(t,e,n){var o;const r=await em(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ai])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=lh(i),u=new Da;return Object.assign(u,l),u}async function em(t,e,n){var o,r;let i=0,l=0,u=new Il(new Response),c="upload";for(i=t.size;l<i;){const d=Math.min(_w,i-l),f=t.slice(l,l+d);l+d>=i&&(c+=", finalize");let h=0,p=ww;for(;h<Cw&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Ai]));)h++,await kw(p),p=p*Iw;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Ai])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Rw(t){return{size:t.size,type:t.type}}function kw(t){return new Promise(e=>setTimeout(e,t))}class Nw{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Aw(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xw(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rw(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pw{create(e,n,o){return new Mw(e,n,o)}}class Mw{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wd="x-goog-api-key";class Dw{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Wd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lw="gl-node/";class Uw{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new me({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=kv(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Dw(this.apiKey);this.apiClient=new R_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Lw+"web",uploader:new Nw,downloader:new Tw}),this.models=new K_(this.apiClient),this.live=new z_(this.apiClient,r,new Pw),this.batches=new rE(this.apiClient),this.chats=new HE(this.models,this.apiClient),this.caches=new FE(this.apiClient),this.files=new bE(this.apiClient),this.operations=new Y_(this.apiClient),this.authTokens=new cC(this.apiClient),this.tunings=new Sw(this.apiClient),this.fileSearchStores=new vC(this.apiClient)}}const Fw=async(t,e,n)=>{try{if(!e)return"  API.    .";const o=new Uw({apiKey:e}),r=t.replace(/^data:image\/(png|jpeg|webp);base64,/,""),l=n||"      .      .   ,   .   ,     .     .";return(await o.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:r}},{text:l}]}})).text||"    ."}catch(o){return console.error("Gemini analysis error:",o),o.toString().includes("API_KEY_INVALID")?" -API .     .":"   .   ."}},Fr={he:{label:"",dir:"rtl",locale:"he-IL",ui:{settings:"",switchCamera:" ",torch:"",maxQuality:" ",reset:"",cameraError:" ",tryAgain:" ",loading:" ...",welcome:" ",enterKey:"   API   (Gemini).",pasteKey:"   ...",start:" ",noKeyLink:"  ?",editKey:"  API",defaultRes:"  ",language:" / Language",description:"",mic:"  ?",listening:"...",checking:"  ...",colors:"",adjust:"",product:"",obstacle:"",describe:" ",freeze:"",resume:"",draw:" ",clear:" ",errorTitle:"",micError:"  ",browserNoMic:"   "},prompts:{frozen:"       .     ,  (/)    -  ,   .   ,        .  .",live:"     .   ? (, , ).   ?       .         .  .",product:"  . :       (   ).   ?  ?    ?      .  .",obstacle:"  .    .   ? ? ? ?        .   ,  ' '.  .",drawing:"      .       ** **         .   ,   .  .",voiceBase:"    : "}},en:{label:"English",dir:"ltr",locale:"en-US",ui:{settings:"Settings",switchCamera:"Switch Camera",torch:"Flashlight",maxQuality:"Max Quality",reset:"Reset",cameraError:"Camera Error",tryAgain:"Try Again",loading:"Loading Camera...",welcome:"Welcome",enterKey:"Enter Google Gemini API Key.",pasteKey:"Paste key here...",start:"Start Using",noKeyLink:"Don't have a key?",editKey:"Edit API Key",defaultRes:"Default Quality",language:"Language",description:"Description",mic:"Ask Question",listening:"Listening...",checking:"Checking...",colors:"Colors",adjust:"Adjust",product:"Product",obstacle:"Obstacle",describe:"Describe",freeze:"Freeze",resume:"Resume",draw:"Draw",clear:"Clear",errorTitle:"Error",micError:"Speech Recognition Error",browserNoMic:"Browser not supported"},prompts:{frozen:"The user froze the image to focus on a specific detail. Check for signs, numbers, or text - read them immediately. If no text, describe the central object in detail. Answer in English.",live:"Describe the general environment. Where am I? What is happening around? Give a general description for orientation. Answer in English.",product:"You are a shopping assistant. Identify the central product. Name? Brand? Weight/Flavor? Ignore background. Answer in English.",obstacle:"You are a mobility assistant. Scan the path for obstacles, stairs, or hazards. Answer ONLY about safety. If clear, say 'The path is clear'. Answer in English.",drawing:"The user marked a specific area in red. Focus ONLY on the content inside the mark. Answer in English.",voiceBase:"The user asks about the image in English: "}},ru:{label:"",dir:"ltr",locale:"ru-RU",ui:{settings:"",switchCamera:"",torch:"",maxQuality:". ",reset:"",cameraError:" ",tryAgain:"",loading:"...",welcome:" ",enterKey:"  Gemini API.",pasteKey:" ...",start:"",noKeyLink:" ?",editKey:" ",defaultRes:"",language:" / Language",description:"",mic:"",listening:"...",checking:"...",colors:"",adjust:".",product:"",obstacle:"",describe:"",freeze:"",resume:"",draw:"",clear:"",errorTitle:"",micError:" ",browserNoMic:"  "},prompts:{frozen:"    .  ,    - .    .   .",live:" .  ?  ?    .   .",product:" .     ? , , ?  .   .",obstacle:" .   , , ?   .   -  ' '.   .",drawing:"   .   ,   .   .",voiceBase:"     : "}},ar:{label:"",dir:"rtl",locale:"ar-SA",ui:{settings:"",switchCamera:"",torch:"",maxQuality:" ",reset:" ",cameraError:"  ",tryAgain:"  ",loading:" ...",welcome:" ",enterKey:"  Gemini API.",pasteKey:" ...",start:"",noKeyLink:"  ",editKey:" ",defaultRes:" ",language:" / Language",description:"",mic:"",listening:" ...",checking:" ...",colors:"",adjust:"",product:"",obstacle:"",describe:"",freeze:"",resume:"",draw:"",clear:"",errorTitle:"",micError:"    ",browserNoMic:"  "},prompts:{frozen:"    .     .    .   .",live:"  .      .   .",product:" .   .     .   .",obstacle:" .       .   .",drawing:"      .   .",voiceBase:"     : "}}},Vw="he",ks=[{label:"HD (720p)",width:1280,height:720},{label:"Full HD (1080p)",width:1920,height:1080},{label:"4K (2160p)",width:3840,height:2160}],Gw=()=>{const t=G.useRef(null),e=G.useRef(null),n=G.useRef(null),o=G.useRef(null),r=G.useRef(null),i=G.useRef(null),l=G.useRef(1),u=G.useRef({x:0,y:0}),[c,d]=G.useState(1),[f,h]=G.useState({x:0,y:0}),[p,m]=G.useState(100),[E,S]=G.useState(100),[_,y]=G.useState(Ye.NORMAL),[g,v]=G.useState(!1),[T,I]=G.useState(null),[A,x]=G.useState(!1),[k,N]=G.useState(null),[M,J]=G.useState(null),[Ee,O]=G.useState(!0),[ue,Oe]=G.useState(!1),[Se,Tt]=G.useState(!1),[L,H]=G.useState(!1),[z,te]=G.useState(Vw),U=Fr[z],[fe,ot]=G.useState(!1),[Ae,We]=G.useState([]),[rt,uo]=G.useState([]),za=G.useRef(null),co=G.useRef(null),[Qi,qa]=G.useState(""),[nm,fo]=G.useState(!1),[po,$a]=G.useState(""),[ho,Ja]=G.useState([]),[Ut,ar]=G.useState(""),[ur,om]=G.useState(ks[1]),[mo,rm]=G.useState(!1),[go,Oa]=G.useState(!1),[im,sm]=G.useState(!1),[cr,Xi]=G.useState(!1),[rn,lm]=G.useState(!1);G.useEffect(()=>{typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition)&&Tt(!0);const w=localStorage.getItem("vision_ai_api_key");w?(qa(w),$a(w)):fo(!0);const V=localStorage.getItem("vision_ai_lang");V&&Fr[V]&&te(V);const D=()=>{Wa(),window.removeEventListener("touchstart",D),window.removeEventListener("click",D)};return window.addEventListener("touchstart",D),window.addEventListener("click",D),()=>{window.removeEventListener("touchstart",D),window.removeEventListener("click",D)}},[]);const am=w=>{te(w),localStorage.setItem("vision_ai_lang",w)},um=()=>{po.trim().length>10?(localStorage.setItem("vision_ai_api_key",po.trim()),qa(po.trim()),fo(!1),Wa()):alert("Key seems too short.")},Wa=async()=>{try{document.fullscreenElement||(await document.documentElement.requestFullscreen(),H(!0))}catch{}},cm=async()=>{try{document.fullscreenElement?document.exitFullscreen&&(await document.exitFullscreen(),H(!1)):(await document.documentElement.requestFullscreen(),H(!0))}catch{}};G.useEffect(()=>{let w=!0;return(async()=>{try{if((await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})).getTracks().forEach(X=>X.stop()),!w)return;const b=(await navigator.mediaDevices.enumerateDevices()).filter(X=>X.kind==="videoinput");if(Ja(b),b.length>0&&!Ut){const X=b.find(xe=>xe.label.toLowerCase().includes("back")||xe.label.toLowerCase().includes("environment")||xe.label.toLowerCase().includes("rear"));ar(X?X.deviceId:b[0].deviceId)}}catch(D){if(console.error("Error listing devices:",D),w)try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(xe=>xe.stop());const X=(await navigator.mediaDevices.enumerateDevices()).filter(xe=>xe.kind==="videoinput");Ja(X),X.length>0&&!Ut&&ar(X[0].deviceId)}catch{J(U.ui.cameraError),O(!1)}}})(),()=>{w=!1}},[U.ui.cameraError]),G.useEffect(()=>{if(!Ut)return;let w=!0;O(!0);const V=async(D=!1)=>{n.current&&(n.current.getTracks().forEach(q=>q.stop()),n.current=null);try{const q=mo?ks[2]:ur,b={audio:!1,video:D?{deviceId:{exact:Ut}}:{deviceId:{exact:Ut},width:{ideal:q.width},height:{ideal:q.height},advanced:[{}]}},X=await navigator.mediaDevices.getUserMedia(b);if(!w){X.getTracks().forEach(fr=>fr.stop());return}n.current=X;const xe=X.getVideoTracks()[0],sn=xe.getCapabilities?xe.getCapabilities():{};sm(!!sn.torch),Oa(!1);const it=xe.getSettings().facingMode==="user";if(lm(it),t.current){t.current.srcObject=X;try{await t.current.play()}catch(fr){console.warn("Autoplay prevented:",fr)}}J(null),O(!1)}catch(q){if(console.error("Error accessing camera:",q),!D&&w){V(!0);return}w&&(O(!1),J(U.ui.cameraError))}};return V(),()=>{w=!1,n.current&&(n.current.getTracks().forEach(q=>{q.getCapabilities&&q.getCapabilities().torch&&q.applyConstraints({advanced:[{torch:!1}]}).catch(()=>{}),q.stop()}),n.current=null)}},[Ut,ur,mo,U.ui.cameraError]),G.useEffect(()=>{if(g&&t.current&&e.current&&!T){const w=t.current,V=e.current;if(w.videoWidth&&w.videoHeight){V.width=w.videoWidth,V.height=w.videoHeight;const D=V.getContext("2d");D&&(rn&&(D.translate(V.width,0),D.scale(-1,1)),D.drawImage(w,0,0,V.width,V.height),I(V.toDataURL("image/jpeg",.8)))}}else g||(I(null),N(null),h({x:0,y:0}),We([]),uo([]),ot(!1),window.speechSynthesis.cancel(),o.current&&(o.current.stop(),Oe(!1)))},[g,rn]),G.useEffect(()=>{const w=za.current,V=co.current;if(!w||!V)return;(w.width!==V.clientWidth||w.height!==V.clientHeight)&&(w.width=V.clientWidth,w.height=V.clientHeight);const D=w.getContext("2d");if(!D)return;D.clearRect(0,0,w.width,w.height),D.strokeStyle="#ef4444",D.lineWidth=4,D.lineCap="round",D.lineJoin="round",D.shadowColor="rgba(0,0,0,0.5)",D.shadowBlur=4;const q=b=>{if(!(b.length<2)){D.beginPath(),D.moveTo(b[0].x,b[0].y);for(let X=1;X<b.length;X++)D.lineTo(b[X].x,b[X].y);D.stroke()}};Ae.forEach(q),rt.length>0&&q(rt)},[Ae,rt,g,c]);const Ka=w=>{if(!fe)return;const V="touches"in w?w.touches[0].clientX:w.clientX,D="touches"in w?w.touches[0].clientY:w.clientY,q=w.target.getBoundingClientRect(),b=V-q.left,X=D-q.top;uo([{x:b,y:X}])},Ya=w=>{if(!fe||!rt.length)return;const V="touches"in w?w.touches[0].clientX:w.clientX,D="touches"in w?w.touches[0].clientY:w.clientY,q=w.target.getBoundingClientRect(),b=V-q.left,X=D-q.top;uo(xe=>[...xe,{x:b,y:X}])},ba=()=>{!fe||!rt.length||(We(w=>[...w,rt]),uo([]))};G.useEffect(()=>{c<=1&&h({x:0,y:0})},[c]);const dm=w=>{if(fe){Ka(w);return}if(!(!g||!T)){if(w.touches.length===1&&c>1)r.current={x:w.touches[0].clientX,y:w.touches[0].clientY},u.current={...f};else if(w.touches.length===2){const V=Math.hypot(w.touches[0].clientX-w.touches[1].clientX,w.touches[0].clientY-w.touches[1].clientY);i.current=V,l.current=c}}},fm=w=>{if(fe){Ya(w);return}if(!(!g||!T)){if(w.touches.length===1&&r.current&&c>1){const V=w.touches[0].clientX-r.current.x,D=w.touches[0].clientY-r.current.y;h({x:u.current.x+V,y:u.current.y+D})}else if(w.touches.length===2&&i.current){const D=Math.hypot(w.touches[0].clientX-w.touches[1].clientX,w.touches[0].clientY-w.touches[1].clientY)/i.current,q=Math.min(Math.max(l.current*D,1),10);d(q)}}},pm=w=>{if(fe){ba();return}r.current=null,i.current=null},hm=G.useCallback(async()=>{if(!e.current)return null;let w=null,V=0,D=0;if(T){const ln=new Image;ln.src=T,await ln.decode(),w=ln,V=ln.width,D=ln.height}else t.current&&(w=t.current,V=t.current.videoWidth,D=t.current.videoHeight);if(!w||V===0)return null;const q=V/c,b=D/c,X=V/2-f.x/c,xe=D/2-f.y/c;let sn=X-q/2,wn=xe-b/2;sn<0&&(sn=0),wn<0&&(wn=0),sn+q>V&&(sn=V-q),wn+b>D&&(wn=D-b);const it=e.current,Za=Math.min(1,1024/q);it.width=q*Za,it.height=b*Za;const Ke=it.getContext("2d");if(!Ke)return null;if(rn&&!T&&(Ke.translate(it.width,0),Ke.scale(-1,1)),Ke.drawImage(w,sn,wn,q,b,0,0,it.width,it.height),Ae.length>0&&co.current){const ln=co.current.clientWidth,Cm=co.current.clientHeight,ji=it.width/ln,ja=it.height/Cm;Ke.strokeStyle="#ef4444",Ke.lineWidth=5*ji,Ke.lineCap="round",Ke.lineJoin="round",Ae.forEach(In=>{if(!(In.length<2)){Ke.beginPath(),Ke.moveTo(In[0].x*ji,In[0].y*ja);for(let pr=1;pr<In.length;pr++)Ke.lineTo(In[pr].x*ji,In[pr].y*ja);Ke.stroke()}})}return it.toDataURL("image/jpeg",.6)},[T,c,f,rn,Ae]),Zi=w=>{if(window.speechSynthesis.cancel(),!w)return;const V=new SpeechSynthesisUtterance(w);V.lang=U.locale,window.speechSynthesis.speak(V)},dr=async w=>{if(!Qi){fo(!0);return}const V=await hm();if(!V)return;g||v(!0),x(!0),w!=null&&w.includes(U.prompts.voiceBase)||N(null),window.speechSynthesis.cancel();let D=w;if(Ae.length>0){const X=` ${U.prompts.drawing}`;D&&(D+=X)}!D&&Ae.length>0&&(D=U.prompts.drawing);const b=(await Fw(V,Qi,D)).replace(/[*#]/g,"").trim();N(b),Zi(b),x(!1)},mm=()=>{let w="";g?w=U.prompts.frozen:w=U.prompts.live,Ae.length>0&&(w=U.prompts.drawing),dr(w)},gm=()=>{let w=U.prompts.product;Ae.length>0&&(w+=` ${U.prompts.drawing}`),dr(w)},ym=()=>{const w=U.prompts.obstacle;dr(w)},vm=()=>{if(!Qi){fo(!0);return}if(ue){o.current&&o.current.stop(),Oe(!1);return}if(!Se){alert(U.ui.browserNoMic);return}window.speechSynthesis.cancel();try{const w=window.SpeechRecognition||window.webkitSpeechRecognition,V=new w;o.current=V,V.lang=U.locale,V.continuous=!1,V.interimResults=!1,V.maxAlternatives=1,V.onstart=()=>Oe(!0),V.onend=()=>Oe(!1),V.onerror=D=>{console.error(D.error),Oe(!1),D.error!=="no-speech"&&alert(U.ui.micError)},V.onresult=D=>{const q=D.results[0][0].transcript;Zi(U.ui.checking);const b=`${U.prompts.voiceBase} "${q}".`;dr(b)},V.start()}catch{Oe(!1)}},Em=()=>{if(ho.length<2)return;const V=(ho.findIndex(D=>D.deviceId===Ut)+1)%ho.length;ar(ho[V].deviceId),d(1),h({x:0,y:0}),m(100),S(100)},Sm=()=>{if(N(null),window.speechSynthesis.cancel(),o.current)try{o.current.stop()}catch{}Oe(!1)},Qa=async()=>{if(!n.current)return;const w=n.current.getVideoTracks()[0];try{await w.applyConstraints({advanced:[{torch:!go}]}),Oa(!go)}catch(V){console.error("Torch error:",V)}},Tm=()=>{d(1),h({x:0,y:0}),m(100),S(100),y(Ye.NORMAL),We([]),ot(!1),go&&Qa(),v(!1)},Xa=(w,V)=>{let D=`brightness(${p}%) contrast(${E}%) `;switch(w){case Ye.HIGH_CONTRAST:D+="saturate(150%) contrast(150%)";break;case Ye.INVERTED:D+="invert(100%) hue-rotate(180deg)";break;case Ye.GRAYSCALE:D+="grayscale(100%)";break;case Ye.YELLOW_ON_BLACK:D+="invert(100%) sepia(100%) saturate(500%) hue-rotate(350deg) contrast(150%)";break}const q=V?`translate(${f.x}px, ${f.y}px) scale(${c}) ${rn?"scaleX(-1)":""}`:`scale(${c}) ${rn?"scaleX(-1)":""}`;return{filter:D,transform:q}},_m=()=>{const w=!mo;if(rm(w),w){const V=ho.find(D=>D.label.toLowerCase().includes("back")||D.label.toLowerCase().includes("rear"));V&&V.deviceId!==Ut&&ar(V.deviceId)}};return C.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden flex flex-col",dir:U.dir,children:[C.jsx("canvas",{ref:e,className:"hidden"}),C.jsxs("div",{ref:co,className:"flex-1 relative overflow-hidden",children:[!cr&&C.jsxs("div",{className:`absolute top-4 ${U.dir==="rtl"?"left-4":"right-4"} z-40 flex flex-col gap-3`,children:[C.jsx("button",{onClick:Em,className:"bg-black/60 backdrop-blur-md p-3 rounded-full text-white border border-white/20 hover:bg-black/80 active:scale-95 transition-all shadow-lg","aria-label":U.ui.switchCamera,children:C.jsx(vv,{size:24})}),im&&!rn&&C.jsx("button",{onClick:Qa,className:`backdrop-blur-md p-3 rounded-full border transition-all shadow-lg ${go?"bg-white text-black border-white shadow-white/30":"bg-black/60 text-white border-white/20 hover:bg-black/80"}`,"aria-label":U.ui.torch,children:C.jsx(rv,{size:24,fill:go?"currentColor":"none"})}),C.jsx("button",{onClick:_m,className:`backdrop-blur-md p-3 rounded-full border transition-all shadow-lg ${mo?"bg-yellow-500/80 text-black border-yellow-300 shadow-yellow-500/20":"bg-black/60 text-white border-white/20 hover:bg-black/80"}`,"aria-label":U.ui.maxQuality,children:C.jsx(Tv,{size:24,fill:mo?"currentColor":"none"})}),C.jsx("button",{onClick:()=>Xi(!0),className:"bg-black/60 backdrop-blur-md p-3 rounded-full text-white border border-white/20 hover:bg-black/80 active:scale-95 transition-all shadow-lg","aria-label":U.ui.settings,children:C.jsx(mv,{size:24})}),g&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-full h-px bg-white/20 my-1"}),C.jsx("button",{onClick:()=>ot(!fe),className:`backdrop-blur-md p-3 rounded-full border transition-all shadow-lg ${fe?"bg-red-600 text-white border-red-400 shadow-red-500/30":"bg-black/60 text-white border-white/20 hover:bg-black/80"}`,"aria-label":U.ui.draw,children:C.jsx(fv,{size:24})}),(Ae.length>0||fe)&&C.jsx("button",{onClick:()=>{We([]),uo([])},className:"bg-black/60 backdrop-blur-md p-3 rounded-full text-white border border-white/20 hover:bg-black/80 active:scale-95 transition-all shadow-lg","aria-label":U.ui.clear,children:C.jsx(Ev,{size:24})})]})]}),!cr&&(c!==1||p!==100||E!==100||_!==Ye.NORMAL||f.x!==0||f.y!==0||Ae.length>0)&&C.jsx("div",{className:`absolute bottom-28 ${U.dir==="rtl"?"right-4":"left-4"} z-40`,children:C.jsxs("button",{onClick:Tm,className:"bg-black/60 backdrop-blur-md p-3 rounded-full text-white border border-white/20 hover:bg-black/80 active:scale-95 transition-all shadow-lg flex items-center gap-2",children:[C.jsx(hv,{size:20}),C.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:U.ui.reset})]})}),M&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6 text-center z-50 bg-gray-900/90",children:C.jsxs("div",{className:"max-w-md p-6 bg-red-900/20 border border-red-500 rounded-lg",children:[C.jsx(ev,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),C.jsx("h2",{className:"text-xl font-bold text-red-400 mb-2",children:U.ui.cameraError}),C.jsx("p",{className:"text-gray-300",children:M}),C.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 rounded-lg",children:U.ui.tryAgain})]})}),!M&&Ee&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black",children:C.jsx(dc,{className:"animate-spin text-white/50 w-12 h-12"})}),nm&&C.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 backdrop-blur-md flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-gray-900 border border-indigo-500/50 w-full max-w-md rounded-2xl p-8 shadow-2xl text-center",children:[C.jsx(cc,{className:"text-indigo-400 w-8 h-8 mx-auto mb-6"}),C.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:U.ui.welcome}),C.jsx("p",{className:"text-gray-300 mb-6",children:U.ui.enterKey}),C.jsx("input",{type:"text",value:po,onChange:w=>$a(w.target.value),placeholder:U.ui.pasteKey,className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-4 text-white mb-6 dir-ltr"}),C.jsx("button",{onClick:um,disabled:po.length<10,className:"w-full bg-indigo-600 hover:bg-indigo-500 font-bold py-4 rounded-xl mb-4",children:U.ui.start}),C.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 text-sm",children:U.ui.noKeyLink})]})}),cr&&C.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-gray-900 border border-gray-700 w-full max-w-sm rounded-2xl p-6 shadow-2xl overflow-y-auto max-h-[80vh]",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("h2",{className:"text-xl font-bold text-white",children:U.ui.settings}),C.jsx("button",{onClick:()=>Xi(!1),children:C.jsx(pc,{size:24,className:"text-gray-400"})})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{className:"block text-gray-400 text-sm font-bold mb-3 flex items-center gap-2",children:[C.jsx(iv,{size:16}),U.ui.language]}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(Fr).map(w=>C.jsx("button",{onClick:()=>am(w),className:`p-3 rounded-lg border text-sm font-medium transition-all ${z===w?"bg-indigo-600/30 border-indigo-500 text-white":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:Fr[w].label},w))})]}),C.jsxs("button",{onClick:cm,className:"w-full flex justify-between p-4 bg-gray-800 rounded-xl items-center border border-gray-700 hover:bg-gray-700",children:[C.jsx("span",{children:L?"Exit Full Screen":"Enter Full Screen"}),L?C.jsx(uv,{size:20}):C.jsx(sv,{size:20})]}),C.jsxs("button",{onClick:()=>{Xi(!1),fo(!0)},className:"w-full flex justify-between p-4 bg-gray-800 rounded-xl items-center",children:[C.jsx("span",{children:U.ui.editKey}),C.jsx(cc,{size:20})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-400 text-sm font-bold mb-3",children:U.ui.defaultRes}),C.jsx("div",{className:"space-y-2",children:ks.map(w=>C.jsxs("button",{onClick:()=>om(w),className:`w-full flex justify-between p-4 rounded-xl border ${ur.width===w.width?"bg-indigo-600/20 border-indigo-500":"bg-gray-800 border-gray-700"}`,children:[C.jsx("span",{children:w.label}),ur.width===w.width&&C.jsx(nv,{size:20,className:"text-indigo-400"})]},w.label))})]})]})]})}),C.jsxs("div",{className:"w-full h-full flex items-center justify-center overflow-hidden touch-none",onTouchStart:dm,onTouchMove:fm,onTouchEnd:pm,onMouseDown:fe?Ka:void 0,onMouseMove:fe?Ya:void 0,onMouseUp:fe?ba:void 0,children:[C.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:()=>{var w;return(w=t.current)==null?void 0:w.play().catch(console.error)},className:`absolute min-w-full min-h-full object-cover origin-center ${g&&T?"invisible":"visible"}`,style:Xa(_,!1)}),g&&T&&C.jsx("img",{src:T,alt:"Frozen",className:"absolute min-w-full min-h-full object-cover origin-center z-10",style:Xa(_,!0)}),C.jsx("canvas",{ref:za,className:`absolute inset-0 z-20 pointer-events-none ${fe?"cursor-crosshair":""}`})]}),k&&C.jsxs("div",{className:"absolute top-0 left-0 right-0 bottom-0 z-30 flex flex-col pointer-events-none",children:[C.jsx("div",{className:"p-6 pt-20 pointer-events-auto",children:C.jsxs("div",{className:`bg-black/90 ${U.dir==="rtl"?"border-r-4":"border-l-4"} border-indigo-500 ${U.dir==="rtl"?"rounded-l-lg":"rounded-r-lg"} p-4 shadow-2xl backdrop-blur-sm max-h-[40vh] overflow-y-auto`,children:[C.jsxs("div",{className:"flex justify-between items-start mb-2",children:[C.jsxs("h3",{className:"text-indigo-400 font-bold text-sm flex items-center gap-2",children:[C.jsx(sh,{size:16})," ",U.ui.description]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsx("button",{onClick:()=>Zi(k),className:"text-gray-400 hover:text-white",children:C.jsx(Sv,{size:20})}),C.jsx("button",{onClick:Sm,className:"text-gray-500 hover:text-white",children:C.jsx(pc,{size:20})})]})]}),C.jsx("p",{className:"text-lg text-gray-100 text-start",children:k})]})}),C.jsx("div",{className:"flex-1 flex items-center justify-center pointer-events-auto",children:Se&&C.jsxs("button",{onClick:vm,disabled:A,className:`relative flex items-center justify-center w-32 h-32 rounded-full shadow-2xl transition-all ${ue?"bg-red-600 scale-110":"bg-indigo-600 active:scale-95"}`,children:[ue&&C.jsx("span",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-75"}),ue?C.jsx(lv,{size:48,className:"text-white z-10"}):C.jsx(av,{size:48,className:"text-white z-10"}),C.jsx("span",{className:"absolute -bottom-10 text-white font-bold text-lg bg-black/50 px-3 py-1 rounded-full whitespace-nowrap",children:ue?U.ui.listening:U.ui.mic})]})}),C.jsx("div",{className:"h-32"})]}),A&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-black/40 backdrop-blur-[2px]",children:C.jsxs("div",{className:"bg-black/80 p-6 rounded-2xl flex flex-col items-center gap-4 text-center",children:[C.jsx(dc,{className:"animate-spin text-indigo-500 w-10 h-10"}),C.jsx("p",{className:"text-indigo-200 font-medium",children:U.ui.checking})]})})]}),!cr&&C.jsx(wv,{zoom:c,setZoom:d,brightness:p,setBrightness:m,contrast:E,setContrast:S,isPaused:g,setIsPaused:v,filter:_,setFilter:y,onAnalyze:mm,onProductIdentify:gm,onObstacleDetect:ym,isAnalyzing:A,text:U.ui})]})},tm=document.getElementById("root");if(!tm)throw new Error("Could not find root element to mount to");const Hw=Ns.createRoot(tm);Hw.render(C.jsx(Bm.StrictMode,{children:C.jsx(Gw,{})}));
